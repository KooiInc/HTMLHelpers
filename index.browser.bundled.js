var or="url('data:image/svg+xml\\3butf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E')",we=lr(),qe=sr(),U=ir(),te=ar();function ir(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function ar(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function lr(){return["#logBox{min-width:0px;max-width:0px;min-height:0px;max-height:0px;width:0;height:0;z-index:-1;border:none;padding:0px;overflow:hidden;transition:all 0.3s ease;margin-top:-100px;}","#logBox.visible{background-color:rgb(255, 255, 224);z-index:1;position:static;border:1px dotted rgb(153, 153, 153);max-width:50vw;min-width:30vw;min-height:10vh;max-height:90vh;overflow:auto;width:50vw;height:20vh;margin:1rem 0px;padding:0px 8px 19px;resize:both;}","#logBox.visible .legend{position:absolute;}","#logBox .legend{text-align:center;margin-top:-1em;width:inherit;max-width:inherit;}","#logBox .legend div{text-align:center;display:inline-block;max-width:inherit;height:1.2rem;background-color:rgb(119, 119, 119);padding:2px 10px;color:rgb(255, 255, 255);box-shadow:rgb(119 119 119) 2px 1px 10px;border-radius:4px;}","#logBox .legend div:before{content:'JQx Logging (chronological)';}","#logBox .legend.reversed div:before{content:'JQx Logging (reversed)';}","#logBox #jqx_logger{marginTop:0.7rem;lineHeight:1.4em;font-family:consolas,monospace;whiteSpace:pre-wrap;maxWidth:inherit;padding-left:100px;}","#logBox #jqx_logger div.entry{text-indent:-100px;whiteSpace:normal;}"]}function sr(){return[".popupContainer{position:fixed;inset:-5000px;opacity:0;height:0;width:0;background:rgba(0,0,0,0.1);transition:opacity 0.6s ease-in-out 0s;}",".popupContainer.popup-active{opacity:1;inset:0;height:auto;width:auto;z-index:2147483646;}",".popupContainer .content{box-shadow:rgba(0,0,0,0.5) 2px 2px 8px;border-radius:3px;min-width:125px;max-width:40vw;max-height:40vh;padding:8px;overflow:auto;background:#FFF;z-index:inherit;opacity:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}",".popupContainer .content .popup-warn{position:relative;padding:3px 8px 0 8px;color:red;margin:6px -8px -4px -8px;text-align:center;display:none;}",".popupContainer .content.popup-warn-active .popup-warn{display:block;border-top:1px dashed rgb(0,0,0);}",`.closeHandleIcon{z-index:1;position:absolute;opacity:0;cursor:pointer;width:24px;height:24px;background:${or} no-repeat;}`,".closeHandleIcon.popup-active{opacity:1;z-index:2147483647;}","@media screen and (width < 1200px){.popupContainer .content{max-width:75vw;}}","@media screen and (width < 640px){.popupContainer .content{max-width:90vw;max-height:60vw;}}"]}var Te=!1,cr={on:()=>Te=!0,off:()=>Te=!1},z={tagsRaw:te,allowUnknownHtmlTags:cr,isAllowed(e){if(Te)return!0;let t=u(e,String)?e.toLowerCase():e?.nodeName.toLowerCase()||"none";return t==="#text"||!!te[t]},allowTag:e=>te[e.toLowerCase()]=!0,prohibitTag:e=>te[e.toLowerCase()]=!1};var Ee=!1,re=!1,Q=!0,Le=!1,ur=!0,Ve,B=()=>y("#logBox"),Ge="#jqx_logger",mr=e=>{we?.forEach(t=>e(t))},dr=()=>{we&&mr(Ve);let e=ur?"div":"pre",t=`<div id="logBox"><div class="legend"><div></div></div><${e} id="jqx_logger"></${e}></div>`;return Fe(O(t),void 0,N.AfterBegin),y.node(Ge)},Ye=e=>u(e,String)&&Object.assign(document.createElement("textarea"),{innerHTML:e}).textContent||e,I=(...e)=>{let t=e[0]==="fromStatic";if(e=t?e.slice(1):e,t&&!re)return e.forEach(r=>console.info(`${W()} \u2714 ${Ye(r)}`));if(!re)return;!Q&&!y.node("#logBox")&&(Ve=y.createStyle("JQxLogCSS"),dr());let n=r=>`${u(r,Object)?JSON.stringify(r,null,2):r}
`;e.forEach(r=>Q?console.info(`${W()} \u2714 ${Ye(r)}`):y.node("#jqx_logger").insertAdjacentHTML(Le?"afterbegin":"beforeend",`<div class="entry">${W()} ${n(r.replace(/\n/g,"<br>"))}</div>`))},De={on(){re=!0,I("Logging activated")},off(){re=!1,console.log("Logging deactivated")}},Ce={on(){Ee=!0},off(){Ee=!1}},k=(...e)=>Ee&&I(...e),L={get isConsole(){return Q===!0},get isOn(){return re},isVisible:function(){return y("#jqx_logger").is("visible")},on(){return De.on(),Ce.on(),Q||B()?.addClass("visible"),I("Debug logging started. Every call to [jqx instance] is logged"),L},off(){return B().isEmpty||(Ce.off(),I("Debug logging stopped"),B()?.removeClass("visible")),De.off(),L},toConsole:{on(){return Q=!0,I("Started logging to console"),L},off(){return I("Stopped logging to console (except error messages)"),Q=!1,L}},remove(){return De.off(),Ce.off(),B()?.remove(),console.clear(),console.log(`${W()} logging completely disabled and all entries removed`),L},log:function(...e){return I(...e),L},hide(){return B()?.removeClass("visible"),L},show:()=>(B()?.addClass("visible"),L),get reversed(){return{on:()=>(Le=!0,I("Reverse logging set: now logging bottom to top (latest first)"),y("#logBox .legend").addClass("reversed"),L),off:()=>(Le=!1,y("#logBox .legend").removeClass("reversed"),I("Reverse logging reset: now logging chronological (latest last)"),L)}},clear(){return y(Ge).text(""),console.clear(),I("Logging cleared"),L}};var fr=gr(),Xe={html:"innerHTML",text:"textContent",class:"className"},Me=fr;function gr(){let e={get(t,n){let r=String(n)?.toLowerCase();switch(!0){case r in t:return t[r];case wr(r):return Ke(t,r,n);default:return Ke(t,r,n,!0)}},enumerable:!1,configurable:!1};return new Proxy({},e)}function Ke(e,t,n,r=!1){return Object.defineProperty(e,t,{get(){return r?i=>vr(n):Tr(t)}}),e[t]}function pr(e,t,n){return t=t?.isJQx&&t.first()||t,Ie({trial:r=>$r(t)?e.append(t):tt(t)?e.insertAdjacentHTML("beforeend",t):e.append(t),whenError:r=>console.info(`${n} (for root ${e}) not created, reason
`,r)})}function hr(e,t,...n){let r=yr(t,e);return n?.forEach(i=>pr(r,i,e)),r}function yr(e,t){switch(e=Ne(t)?Sr(e):e?.isJQx?e.first():e,!0){case u(e,String):return ne(t,tt(e,t)?{html:e}:{text:e});case u(e,Node):return xr(t,e);default:return ne(t,e)}}function br(e){return delete e.data,Object.keys(e).length<1||Object.keys(e).forEach(t=>{let n=t.toLowerCase();n in Xe&&(e[Xe[n]]=e[t],delete e[t])}),e}function xr(e,t){let n=ne(e);return n.append(t),n}function ne(e,t={}){t=et(t,{});let n=Object.entries(t.data??{}),r=Object.assign(Ne(e)?new Comment(t?.text):document.createElement(e),br(t));return n.length&&n.forEach(([i,o])=>r.dataset[i]=String(o)),r}function et(e,t){return t?u(e,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:t}):u(e,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function Sr(e){return et(e)?e?.text??e?.textContent??"":String(e)}function vr(e){return ne("b",{style:"color:red",text:`'${e}' is not a valid HTML-tag`})}function tt(e,t){return!Ne(t)&&u(e,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(e)}function $r(e){return e?.constructor===Comment||e?.constructor===CharacterData}function Ne(e){return e?.constructor===Comment||/comment/i.test(e)}function wr(e){return!u(ne(e),HTMLUnknownElement)}function Tr(e){return(t,...n)=>hr(e,t,...n)}var{IS:u,maybe:Ie,$Wrap:lo,xProxy:so,isNothing:co}=Dr();function Dr(){Symbol.proxy=Symbol.for("toa.proxy"),Symbol.is=Symbol.for("toa.is"),Symbol.type=Symbol.for("toa.type"),Symbol.isSymbol=Symbol.for("toa.isASymbol"),b();let e=C(),[t,n]=[h(),w()];return n.custom(),{IS:r,maybe:e,$Wrap:t,isNothing:$,xProxy:n};function r(c,...m){if(e({trial:v=>"isTypes"in(m?.[0]??{})})){let v=m[0];return"defaultValue"in v?S(c,v):"notTypes"in v?d(c,v):r(c,...[v.isTypes].flat())}let x=typeof c=="symbol"?Symbol.isSymbol:c;return m.length>1?p(x,...m):o(c,...m)}function i(c){return c?.[Symbol.proxy]??r(c)}function o(c,...m){let{noInput:x,noShouldbe:v,compareTo:F,inputCTOR:J,isNaN:xe,isInfinity:Se,shouldBeFirstElementIsNothing:ve}=l(c,...m);switch(m=m.length&&m[0],!0){case ve:return String(c)===String(F);case(c?.[Symbol.proxy]&&v):return c[Symbol.proxy];case xe:return v?"NaN":e({trial:$e=>String(F)})===String(c);case Se:return v?"Infinity":e({trial:$e=>String(F)})===String(c);case x:return v?String(c):String(F)===String(c);case J===Boolean:return m?J===m:"Boolean";default:return g(c,m,v,a(c,J))}}function a(c,m){return c===0?Number:c===""?String:c?m:{name:String(c)}}function l(c,...m){let x=m.length<1,v=!x&&m[0],F=!x&&$(m[0]),J=c==null,xe=!J&&Object.getPrototypeOf(c)?.constructor,Se=Number.isNaN(c)||e({trial:$e=>String(c)==="NaN"}),ve=e({trial:$e=>String(c)})==="Infinity";return{noInput:J,noShouldbe:x,compareTo:v,inputCTOR:xe,isNaN:Se,isInfinity:ve,shouldBeFirstElementIsNothing:F}}function g(c,m,x,v){switch(!0){case(!x&&m===c||c?.[Symbol.proxy]&&m===Proxy):return!0;case e({trial:F=>String(m)})==="NaN":return String(c)==="NaN";case(c?.[Symbol.toStringTag]&&r(m,String)):return String(m)===c[Symbol.toStringTag];default:return m?e({trial:F=>c instanceof m})||m===v||m===Object.getPrototypeOf(v)||`${m?.name}`===v?.name:c?.[Symbol.toStringTag]&&`[object ${c?.[Symbol.toStringTag]}]`||v?.name||String(v)}}function p(c,...m){return m.some(x=>r(c,x))}function $(c,m=!1){let x=c==null;return x=m?x||r(c,1/0)||r(c,NaN):x,x}function C(){let c=(m,x)=>m?.constructor===Function?m(x):void 0;return function({trial:m,whenError:x=()=>{}}={}){try{return c(m)}catch(v){return c(x,v)}}}function h(){return function(c){return Object.freeze({get value(){return c},get[Symbol.type](){return i(c)},get type(){return i(c)},[Symbol.is](...m){return r(c,...m)},is(...m){return r(c,...m)}})}}function S(c,{defaultValue:m,isTypes:x=[void 0],notTypes:v}={}){return x=x?.constructor!==Array?[x]:x,v=v&&v?.constructor!==Array?[v]:[],v.length<1?r(c,...x)?c:m:d(c,{isTypes:x,notTypes:v})?c:m}function d(c,{isTypes:m=[void 0],notTypes:x=[void 0]}={}){return m=m?.constructor!==Array?[m]:m,x=x?.constructor!==Array?[x]:x,r(c,...m)&&!r(c,...x)}function b(){Object.getOwnPropertyDescriptors(Object.prototype)[Symbol.is]||(Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return i(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...c){return r(this,...c)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(c){return i(c)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(c,...m){return r(c,...m)},enumerable:!1,configurable:!1}}))}function s(c){let m=String(Object.getPrototypeOf(c)?.constructor);return m.slice(m.indexOf("ion")+3,m.indexOf("(")).trim()}function f(c){let m=c.set;return c.set=(x,v,F)=>v===Symbol.proxy?x[v]=F:m(x,v,F),c}function w(){let c=Proxy;return{native(){Proxy=c},custom(){Proxy=new c(c,{construct(m,x){for(let F of x)F.set&&(F=f(F));let v=new m(...x);return v[Symbol.proxy]=`Proxy (${s(x[0])})`,v}})}}}}function oe({styleSheet:e,createWithId:t}={}){let{tryParseAtOrNestedRules:n,ruleExists:r,checkParams:i,sheet:o,removeRules:a,consider:l,currentSheetID:g}=Cr({styleSheet:e,createWithId:t});function p(d,b){if(d&&b.removeProperties){Object.keys(b.removeProperties).forEach(s=>d.style.removeProperty(rt(s)));return}Object.entries(b).forEach(([s,f])=>{s=rt(s.trim()),f=f.trim();let w;if(/!important/.test(f)&&(f=f.slice(0,f.indexOf("!important")).trim(),w="important"),!CSS.supports(s,f))return console.error(`StylingFactory ${g} error: '${s}' with value '${f}' not supported (yet)`);nt(()=>d.style.setProperty(s,f,w),`StylingFactory ${g} (setRule4Selector) failed`)})}function $(d,b,s=o){if(d=d?.trim?.(),!u(d,String)||!d.length||/[;,]$/g.test(d))return console.error(`StylingFactory ${g} (setRules): [${d||"[no selector given]"}] is not a valid selector`);if(b.removeRule)return a(d);let f=r(d,!0),w=f||s.cssRules[s.insertRule(`${d} {}`,s.cssRules.length||0)];return l(()=>p(w,b),d,f)}function C(d){let b=d.trim().split(/{/,2),s=b.shift().trim();if(!u(s,String)||!s?.trim()?.length)return console.error(`StylingFactory ${g} (doParse): no (valid) selector could be extracted from rule ${Oe(d)}`);let f=Or(b.shift());return nt(()=>$(s,f),`StylingFactory ${g} (setRules) failed`)}function h(d){let b=n(d);return b.done?b.existing:C(d)}function S(d,b){return d.trim().startsWith("@media")?h(Er(d,b)):$(d,b)}return function(d,b={}){return i(d,b)&&(Object.keys(b).length?S(d,b):h(d))}}function Cr({styleSheet:e,createWithId:t}){let n="Note: The rule or some of its properties may not be supported by your browser (yet)",r=`for style#${t}`;e=t?i(t):e;function i(h){let S=document.querySelector(`#${h}`)?.sheet;if(S)return S;let d=Object.assign(document.createElement("style"),{id:h});return document.head.insertAdjacentElement("beforeend",d),d.sheet}function o(h){return console.error(`StylingFactory ${r} [rule: ${h}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function a(h,S){return[...e.rules].find(d=>S?ot(d.selectorText||"",h):Mr`${Fr(h)}${[..."gim"]}`.test(d.cssText))}function l(h){return/^@charset|@import|namespace/i.test(h.trim())?o(h):h.match(/}/g)?.length>1?{existing:$(h,1),done:!0}:{done:!1}}function g(h){let S=[...e.cssRules].reduce((b,s,f)=>ot(s.selectorText||"",h)&&b.concat(f)||b,[]),d=S.length;return S.forEach(b=>e.deleteRule(b)),d>0?console.info(`\u2714 Removed ${d} instance${d>1?"s":""} of selector ${h} from ${r.slice(4)}`):console.info(`\u2714 Remove rule: selector ${h} does not exist in ${r.slice(4)}`)}function p(h,S){return h&&u(h,String)&&h.trim().length>0&&u(S,Object)||(console.error(`StylingFactory ${r} called with invalid parameters`),!1)}function $(h){h=h.trim();let S=h.slice(0,h.indexOf("{")).trim(),d=!!a(S);try{return e.insertRule(`${h}`,e.cssRules.length),d}catch(b){return console.error(`StylingFactory ${r} (tryParse) ${b.name} Error:
${b.message}
Rule: ${Oe(h)}
${n}`),d}}function C(h,S,d){try{return h(),d}catch(b){return console.error(`StylingFactory ${r} (tryAddOrModify) ${b.name} Error:
${b.message}
Rule: ${Oe(S)}
${n}`),d}}return{sheet:e,removeRules:g,tryParseAtOrNestedRules:l,ruleExists:a,checkParams:p,tryParse:$,consider:C,currentSheetID:r}}function Er(e,t){return`${e.trim()} ${Object.entries(t).map(([n,r])=>`${n}: { ${Lr(r)}`)}`}function Oe(e){let t=(e||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return e.length>t.length?`${t.trim()}...truncated`:t}function Lr(e){return Object.entries(e).map(([t,n])=>`${t}: ${n.trim()}`).join(`;
`)}function Fr(e){return e.replace(/([*\[\]()-+{}.$?\\])/g,t=>`\\${t}`)}function Mr(e,...t){let n=t.length&&Array.isArray(t.slice(-1))?t.pop().join(""):"";return new RegExp((t.length&&e.raw.reduce((r,i,o)=>r.concat(t[o-1]||"").concat(i),"")||e.raw.join("")).split(`
`).map(r=>r.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),n)}function rt(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function nt(e,t){try{return e()}catch(n){console.error(`${t||"an error occured"}: ${n.message}`)}}function Nr(e){return e.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(t,n)=>`${n}\\3b`).split(";").map(t=>t.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function Ir(e){return e.reduce((t,n)=>{let[r,i]=[n.slice(0,n.indexOf(":")).trim(),n.slice(n.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return r&&i?{...t,[r]:i}:t},{})}function Or(e){return Ir(Nr(e))}function ot(e,t){return e?.replace("::",":")===t?.replace("::",":")}var Ar=[...Array(26)].map((e,t)=>String.fromCharCode(t+65)).concat([...Array(26)].map((e,t)=>String.fromCharCode(t+97))).concat([...Array(10)].map((e,t)=>`${t}`)),me=(e,t=2)=>`${e}`.padStart(t,"0"),Zr=(e,t=0)=>([e,t]=[Math.floor(e),Math.ceil(t)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(e-t+1)+t)),Hr=e=>{let t=e.length;for(;t--;){let n=Zr(t);[e[t],e[n]]=[e[n],e[t]]}return e};var Z=(e,t=120)=>`${e}`.trim().slice(0,t).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(e.length>t?" &hellip;":"").trim(),j=e=>e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,""),jr=([e,...t])=>`${e.toUpperCase()}${t.join("")}`,ie=e=>u(e,String)?e.toLowerCase().split("-").map((t,n)=>n&&`${jr(t)}`||t).join(""):e,R=()=>`_${Hr(Ar).slice(0,8).join("")}`,de=(e,t=120)=>Z(e,t).replace(/&lt;/g,"<"),W=()=>(e=>`[${me(e.getHours())}:${me(e.getMinutes())}:${me(e.getSeconds())}.${me(e.getMilliseconds(),3)}]`)(new Date);var _=e=>e.replace(/</g,"&lt;");function it(){let e=function(o){if(!o)return;let a=o.style,l=getComputedStyle(o),g=[a.visibility,l.visibility].includes("hidden"),p=[a.display,l.display].includes("none"),$=o.offsetTop<0||o.offsetLeft+o.offsetWidth<0||o.offsetLeft>document.body.offsetWidth,C=+l.opacity==0||+(a.opacity||1)==0;return!($||C||p||g)},t="n/a",n=function(o){return o.parentNode?!!y.nodes(":is(:read-write)",o?.parentNode)?.find(a=>a===o):!1},r=function(o){return o.parentNode?!!y.nodes(":is(:modal)",o?.parentNode)?.find(a=>a===o):!1},i={notInDOM:!0,writable:t,modal:t,empty:!0,open:t,visible:t};return o=>{let a=o.node;return a?{get writable(){return n(a)},get modal(){return r(a)},get inDOM(){return a.isConnected},get open(){return a.open??!1},get visible(){return e(a)},get disabled(){return a.hasAttribute("readonly")||a.hasAttribute("disabled")},get empty(){return o.collection.length<1},get virtual(){return o.isVirtual}}:i}}var zr=!0,fe={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/javascript|injected|noreferrer|alert|DataURL/gi},kr=e=>{if(zr&&Object.keys(e.removed).length){let t=Object.entries(e.removed).reduce((n,[r,i])=>[...n,`${_(r)} => ${i}`],[]).join("\\000A");L.log(`JQx HTML creation errors: ${L.isConsole?t:_(t)}`)}},Rr=function(e){let t=e.nodeName.toLowerCase(),n=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(t)&&!n.find(r=>r===t)||z.isAllowed(t)},ae=e=>{let t={rawHTML:e?.parentElement?.getHTML()??"no html",removed:{}};return u(e,HTMLElement)&&[...e.childNodes].forEach(n=>{if(n?.children?.length&&ae(n),n?.attributes){let i=u(n,SVGElement)?U.svg:U.html;[...(n??{attributes:[]}).attributes].forEach(o=>{let a=o.name.trim().toLowerCase(),l=o.value.trim().toLowerCase().replace(fe.whiteSpace,""),g=a==="href"?!fe.validURL.test(l):fe.notAllowedValues.test(l),p=a.startsWith("data")?!fe.data.test(a):!!i[a];if(g||p){let $=de(o.value||"none",60);$+=$.length===60?"...":"",t.removed[`${o.name}`]=`attribute/property (-value) not allowed, removed. Value: ${$}`,n.removeAttribute(o.name)}})}if(!(Rr(n)||n.constructor===CharacterData||n.constructor===Comment)){let i=(n?.outerHTML||n?.textContent).trim(),o=de(i,60)??"EMPTY";o+=o.length===60?"...":"",t.removed[`<${n.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${o}`,n.remove()}}),kr(t),e};var N=new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(e,t){return e[String(t).toLowerCase()]??e[t]}}),Pr=e=>{let t=document.createElement("div");return t.insertAdjacentHTML(N.end,e),t.childNodes.length?ae(t):void 0},Jr=(e,t,n)=>u(e,Comment)?t.insertAdjacentHTML(n,`<!--${e.data}-->`):t.insertAdjacentText(n,e.data),q=(e=[],t=document.body,n=N.BeforeEnd)=>e.reduce((r,i)=>{let o=le(i)&&Fe(i,t,n);return o?[...r,o]:r},[]),Fe=(e,t=document.body,n=N.BeforeEnd)=>(t=t?.isJQx?t?.[0]:t,u(e,Comment,Text)?Jr(e,t,n):t.insertAdjacentElement(n,e)),O=e=>{if(u(e,Text,Comment))return e;let t=e?.trim(),n=t?.split(/<text>|<\/text>/i)??[];if(n?.length&&(n=n.length>1?n.filter(i=>i.length).shift():void 0),t.startsWith("<!--")&&t.endsWith("-->"))return document.createComment(e.replace(/<!--|-->$/g,""));if(n||!/^<(.+)[^>]+>/m.test(t))return document.createTextNode(n);let r=Pr(e);return r.childNodes.length<1?O(`<span data-jqxcreationerror="1">${Z(e,60)}</span>`):r.children[0]};var T=(e,t)=>{let n=e.collection.filter(r=>!mt(r));for(let r=0;r<n.length;r+=1)t(n[r],r);return e},Ur=it(),at=e=>e&&(e.textContent="");var Y=e=>{let t=e.cloneNode(!0);return t.removeAttribute&&t.removeAttribute("id"),e.isConnected?e.remove():e=null,t},ct=(e,t)=>{e&&u(t,Object)&&Object.entries(t).forEach(([n,r])=>e.setAttribute(`data-${j(n)}`,r))},lt=(e,t)=>e.andThen(t,!0),st=(e,t)=>e.andThen(t),ut=e=>e.startsWith("data")||U.html.find(t=>e.toLowerCase()===t),Br=(e,t,n)=>{n&&u(t,String)&&(t={[t]:n==="-"?"":n});let r;t.className&&(r=t.className,delete t.className),r=[...e.classList].find(o=>o.startsWith("JQxClass-")||r&&o===r)||r||`JQxClass-${R().slice(1)}`,y.editCssRule(`.${r}`,t),e.classList.add(r)},Qr=(e,t)=>{e&&Object.entries(t).forEach(([n,r])=>{if(n=j(n),n.startsWith("data"))return ct(e,r);u(r,String)&&ut(n)&&e.setAttribute(n,r.split(/[, ]/)?.join(" "))})},Ae=(e,t)=>{u(t,Object)&&Object.entries(t).forEach(([n,r])=>{let i;/!important/i.test(r)&&(r=r.slice(0,r.indexOf("!")).trim(),i="important"),e.style.setProperty(j(n),r,i)})},Wr={get(e,t){return e[ie(t)]||e[t]},enumerable:!1,configurable:!1},_r=(...e)=>{L.log("\u2757"+e.map(t=>String(t)).join(", "))},Ze=(e,t=0,n=!0)=>(e=e?.parentElement,t+=e?e[n?"scrollTop":"scrollLeft"]:0,e?Ze(e,t,n):t),He={factoryExtensions:{data:e=>({get all(){return new Proxy(e[0]?.dataset??{},Wr)},set:(t={})=>(!e.is.empty&&u(t,Object)&&Object.entries(t).forEach(([n,r])=>e.setData({[n]:r})),e),get:(t,n)=>e.data.all[t]??n,add:(t={})=>(!e.is.empty&&u(t,Object)&&Object.entries(t).forEach(([n,r])=>e.setData({[n]:r})),e),remove:t=>(e[0]?.removeAttribute(`data-${j(t)}`),e)}),dimensions:e=>{if(e.is.empty)return{error:"[instance].dimensions: NO ELEMENTS"};let t=e[0],n=e.first()?.getBoundingClientRect().toJSON();return n.scrollTopDistance=Ze(t,0),n.scrollLeftDistance=Ze(t,0,!1),n},node:e=>e[0],HTML:e=>({get:(t,n)=>{if(e.is.empty)return"NO ELEMENTS IN COLLECTION";let r=t?e.outerHtml:e.html();return n?_(r):r},set:(t,n=!1,r=!1)=>{t=t.isJQx?t.HTML.get(1):t;let i=u(t,String);return t=i&&r?_(t):t,i&&(t||"").trim().length&&e.html(t,n),e},replace:(t,n=!1)=>e.HTML.set(t,!1,n),append:(t,n=!1)=>(t=u(t,HTMLElement)?y(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t,!0,n)),insert:(t,n=!1)=>(t=u(t,HTMLElement)?y(t).HTML.get(1):t.isJQx?t.HTML.get(1):t,e.HTML.set(t+e.HTML.get(),!1,n))}),is:e=>Ur(e),length:e=>e.collection.length,outerHtml:e=>(e.first()||{outerHTML:void 0}).outerHTML,parent:e=>{let t=y(e[0]?.parentNode);return t.is.empty?e:t},render:e=>(!e.is.empty&&e.toDOM()||y.log("[JQx.render]: empty collection"),e),Style:e=>({get computed(){return e.is.empty?{}:getComputedStyle(e[0])},inline:t=>e.style(t),inSheet:t=>e.css(t),valueOf:t=>e.is.empty?void 0:getComputedStyle(e[0])[j(t)],nwRule:t=>e.Style.byRule({rules:t}),byRule:({classes2Apply:t=[],rules:n=[]}={})=>{let i=u(n,String)&&!t.length?n.split("{")[0].trim():"";return n=n&&u(n,String)?[n]:n,t=t&&u(t,String)?[t]:t,(n?.length||t?.length)&&(n?.length&&y.editCssRules(...n),t?.forEach(o=>e.addClass(o))),i?.startsWith(".")&&e.addClass(i.slice(1)),i?.startsWith("#")&&!e.attr("id")&&e.prop({id:i.slice(1)}),e}})},instanceExtensions:{addClass:(e,...t)=>T(e,n=>n&&t.forEach(r=>n.classList.add(r))),after:st,afterMe:st,andThen:(e,t,n=!1)=>{if(!t||!u(t,String,Node,Proxy))return _r(`[JQx instance].[beforeMe | afterMe | andThen]: insufficient input [${t}]`),e;t=t?.isJQx?t.collection:u(t,Node)?y.virtual(t).collection:y.virtual(O(t)).collection;let[r,i,o]=n?[0,"before",t.concat(e.collection)]:[e.collection.length-1,"after",e.collection.concat(t)];return e[r][i](...t),e.collection=o,e},append:(e,...t)=>{if(!e.is.empty&&t.length){let n=e.length===1;for(let r of t){if(!r.isJQx&&u(r,String)){let i=r.trim(),a=!/^<(.+)[^>]+>$/m.test(i)?y.text(r):O(r);T(e,l=>l.append(n?a:Y(a)))}le(r)&&T(e,i=>i.append(n?r:Y(r))),r.isJQx&&!r.is.empty&&T(e,i=>r.collection.forEach(o=>i.append(n?o:Y(o))))}}return e},appendTo:(e,t)=>(t.isJQx||(t=y(t)),t.append(e),e),attr:(e,t,n)=>{let r=e[0];if(!r)return e;if(!n&&u(t,String))return t=j(t),t==="class"?[...r?.classList].join(" "):r?.getAttribute(t);if(u(t,String)&&n)switch(t=j(t),!0){case t.startsWith("data-"):t={data:{[t.replace("data-","")]:n}};break;default:t={[t]:n}}return u(t,Object)&&!e.is.empty&&Qr(r,t),e},before:lt,beforeMe:lt,clear:e=>T(e,at),closest:(e,t)=>{let n=u(t,String)?e[0].closest(t):null;return n?y(n):e},computedStyle:(e,t)=>e.first()&&getComputedStyle(e.first())[t],css:(e,t,n)=>T(e,r=>Br(r,t,n)),duplicate:(e,t=!1,n=document.body)=>{let r=e.toNodeList().map(o=>o.removeAttribute&&o.removeAttribute("id")||o),i=y.virtual(r);return t?i.toDOM(n):i},each:(e,t)=>T(e,t),empty:e=>T(e,at),find:(e,t)=>e.collection.length>0?[...e.first()?.querySelectorAll(t)]:[],find$:(e,t)=>e.collection.length>0?y(t,e):e,first:(e,t=!1)=>{if(e.collection.length>0)return t?e.single():e.collection[0]},first$:(e,t)=>e.single(t),getData:(e,t,n)=>e.first()&&e.first().dataset?.[t]||n,hasClass:(e,...t)=>{let n=e[0];return!n||!n.classList.length?!1:t.find(r=>n.classList.contains(r))&&!0||!1},hide:e=>T(e,t=>Ae(t,{display:"none !important"})),html:(e,t,n)=>{if(t===void 0)return e[0]?.getHTML();if(!e.isEmpty()){let r=O(`<div>${t.isJQx?t.HTML.get(!0):t}</div>`);if(!u(r,Comment))return T(e,o=>(n||(o.textContent=""),o.insertAdjacentHTML(y.at.end,r.getHTML())))}return e},htmlFor:(e,t,n="",r=!1)=>{if(t&&e.collection.length){if(!t||!u(n,String))return e;let i=e.find$(t);if(i.length<1)return e;let o=O(`<span>${n}</span>`);i.each(a=>{r||(a.textContent=""),a.insertAdjacentHTML(y.at.end,o.getHTML())})}return e},isEmpty:e=>e.collection.length<1,nth$:(e,t)=>e.single(t),on:(e,t,...n)=>(e.collection.length&&n?.forEach(r=>{let i=dt(e);y.delegate(t,i,r)}),e),prepend:(e,...t)=>{if(!e.is.empty&&t){let n=e.length===1;for(let r of t){if(u(r,String)){r=r.trim();let o=!/^<(.+)[^>]+>$/m.test(r)?y.text(r):O(r);o=n?o:Y(o),T(e,a=>a.prepend(o.cloneNode(!0)))}le(r)&&T(e,i=>i.prepend(n?r:Y(r))),r.isJQx&&!r.is.empty&&(r.collection.length>1&&r.collection.reverse(),T(e,i=>T(r,o=>i.prepend(n?o:Y(o)))),r.collection.reverse())}}return e},prependTo:(e,t)=>(t.isJQx||(t=y.virtual(t)),t.prepend(e),e),prop:(e,t,n)=>{if(u(t,String)&&!n)return t.startsWith("data")?e[0]?.dataset[t.slice(t.indexOf("-")+1)]:e[0]?.[t];let r=u(t,Object)?t:{[t]:n};return Object.entries(r).forEach(([i,o])=>{if(i=i.trim(),o&&!ut(i)||!o)return!1;if(i.toLowerCase()==="id")return e[0].id=o;T(e,l=>{if(i.startsWith("data"))return l.dataset[i.slice(i.indexOf("-")+1)]=o;l[i]=o})}),e},remove:(e,t)=>{k(`remove ${Z(e.HTML.get(1),40)}${t?` /w selector ${t}`:""}`);let n=i=>i.remove(),r=()=>e.collection=e.collection.filter(i=>document.documentElement.contains(i));if(t){let i=e.find$(t);return i.is.empty||(T(i,n),r()),e}return T(e,n),r(),e},rmAttr:(e,...t)=>(t.forEach(n=>e.node.removeAttribute(n)),e),removeClass:(e,...t)=>T(e,n=>n&&t.forEach(r=>n.classList.remove(r))),renderTo:(e,t=document.body,n=y.insertPositions.end)=>(e.toDOM(t,n),e),replace:(e,t,n)=>{let r=e[0];return!t||!n||!u(n,HTMLElement)&&!n.isJQx?(console.error("JQx replace: invalid replacement value"),e):(n.isJQx&&(n=n[0]),u(n,NodeList)&&(n=n[0]),r&&t&&(t=u(t,String)?r.querySelectorAll(t):t.isJQx?t.collection:t,u(t,HTMLElement,NodeList,Array)&&u(n,HTMLElement)&&(u(t,HTMLElement)?[t]:[...t]).forEach(i=>i.replaceWith(n.cloneNode(!0)))),e)},replaceClass:(e,t,...n)=>T(e,r=>{r.classList.remove(t),n.forEach(i=>r.classList.add(i))}),replaceMe:(e,t)=>e.replaceWith(t),replaceWith:(e,t)=>(t=u(t,Element)?t:t.isJQx?t[0]:void 0,t&&(e[0].replaceWith(t),e=y.virtual(t)),e),setData:(e,t)=>T(e,n=>ct(n,t)),show:e=>T(e,t=>Ae(t,{display:"revert-layer !important"})),single:(e,t)=>e.collection.length>0?u(t,String)?e.find$(t):u(t,Number)?y(e.collection[t]):y(e.collection[0]):e,style:(e,t,n)=>T(e,i=>{n&&u(t,String)&&(t={[t]:n||"none"}),Ae(i,t)}),text:(e,t,n=!1)=>e.isEmpty()?e:u(t,String)?T(e,i=>i.textContent=n?i.textContent+t:t):e.first().textContent,toDOM:(e,t=document.body,n=N.BeforeEnd)=>(e.isVirtual&&(e.isVirtual=!1),e.collection=q(e.collection,t,n),e),toggleClass:(e,t)=>T(e,n=>n.classList.toggle(t)),toNodeList:e=>[...e.collection].map(t=>document.importNode(t,!0)),trigger:(e,t,n=Event,r={})=>{if(e.collection.length){let i=new n(t,{...r,bubbles:r.bubbles??!0});for(let o of e.collection)o.dispatchEvent(i)}return e},val:(e,t)=>{let n=e[0];return!n||!u(n,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)?e:t===void 0?n.value:(n.value=u(t,String)?t:"",e)}}};var ft=qr;function qr(e){let t=e.createStyle("JQxPopupCSS");qe.forEach(s=>t(s));let n={},r,i,o,a=e.virtual('<div class="popup-warn">'),l=e('<div class="popupContainer">').append(e('<span class="closeHandleIcon">')).append(e('<div class="content">')),[g,p]=[e(".popupContainer > .closeHandleIcon"),e(".popupContainer > .content")],$=()=>{if(g.hasClass("popup-active")){let{x:s,y:f,width:w}=p.dimensions;g.style({top:`${f-12}px`,left:`${s+w-12}px`})}},C=()=>{i&&e(".popup-warn").clear().append(e(`<div>${i}</div>`)),p.addClass("popup-warn-active")},h=()=>{r=!1,b(g.first())},S=(s,f)=>o=setTimeout(()=>b(g[0]),+s*1e3);return e.delegate("click",".popupContainer, .closeHandleIcon",s=>b(s.target)),e.delegate("click",".popupContainer .content",(s,f)=>r&&f.removeClass("popup-warn-active")),e.delegate("resize",$),{show:d,create:(s,f,w,c)=>{let m=e.IS(f,Boolean)?f:!1;d({content:s,modal:m,callback:m?w:f,warnMessage:c})},createTimed:(s,f,w)=>d({content:s,closeAfter:f,callback:w}),removeModal:h};function d({content:s,modal:f,closeAfter:w,callback:c,warnMessage:m}){if(s){if(s=e.IS(s,Node)?jqx(s):s,clearTimeout(o),r=f??!1,i=e.IS(m,String)&&`${m?.trim()}`.length||m?.isJQx?m:void 0,p.clear().append(s.isJQx?s:e(`<div>${s}</div>`)),r&&m&&p.append(a.duplicate()),l.addClass("popup-active"),e.IS(c,Function)){let x=R();l.data.set({callbackId:x}),n[x]=c}if(!r){if(e.IS(+w,Number)){let x=l.data.get("callbackId"),v=x&&n[x];S(w,v)}g.addClass("popup-active"),$()}return!0}return console.error("Popup creation needs at least some text to show")}function b(s){if(!r&&!s.closest(".content")){clearTimeout(o),p.clear();let f=l.data.get("callbackId");l.data.remove("callbackId"),e(".popup-active").removeClass("popup-active");let w=f&&n[f];e.IS(w,Function)&&w(),f&&delete n[f],i="";return}return r&&C()}}var P={},Yr=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],Vr=e=>!!Yr.find(t=>t===e),gt=()=>{let e=r=>P[r.type].forEach(i=>i(r)),t=(r,i)=>o=>{let a=o.target?.closest?.(r);return a&&i(o,y(a))},n=(r,i)=>{P[r]||addEventListener(r,e,Vr(r))};return(r,i,o,a=!1)=>{n(r,a);let l=i?t(i,o):o;P=P[r]?{...P,[r]:P[r].concat(l)}:{...P,[r]:[l]}}};var Gr={},{instanceMethods:pt,instanceGetters:ht,isCommentOrTextNode:mt,isNode:le,isHtmlString:bt,isArrayOfHtmlElements:xt,isArrayOfHtmlStrings:St,ElemArray2HtmlString:vt,input2Collection:$t,setCollectionFromCssSelector:wt,addHandlerId:dt,cssRuleEdit:je,addFn:Xr,elems4Docs:_o}=Kr();function Kr(){let e=oe({createWithId:"JQxStylesheet"}),t=(s,f)=>n[s]=(w,...c)=>f(w,...c),n=He.instanceExtensions,r=He.factoryExtensions,i=s=>u(s,Comment,Text),o=s=>u(s,Text,HTMLElement,Comment),a=s=>u(s,Comment),l=s=>u(s,Text),g=s=>u(s,String)&&/^<|>$/.test(`${s}`.trim()),p=s=>u(s,Array)&&!s?.find(f=>!g(f)),$=s=>u(s,Array)&&!s?.find(f=>!o(f)),C=s=>s?.filter(f=>f).reduce((f,w)=>f.concat(a(w)?`<!--${w.data}-->`:i(w)?w.textContent:w.outerHTML),""),h=s=>s?u(s,Proxy)?[s.EL]:u(s,NodeList)?[...s]:o(s)?[s]:$(s)?s:s.isJQx?s.collection:void 0:[],S=(s,f,w)=>{let c=f!==document.body&&u(s,String)&&s.toLowerCase()!=="body"?f:document,m;try{w.collection=[...c.querySelectorAll(s)]}catch{m=`Invalid CSS querySelector. [${u(s,String)?s:"Nothing valid given!"}]`}return m??`CSS querySelector "${s}", output ${w.collection.length} element(s)`},d=s=>{let f=s.data.get("hid")||`HID${R()}`;return s.data.add({hid:f}),`[data-hid="${f}"]`},b=Object.entries(z.tagsRaw).filter(([,s])=>s).map(([s])=>s).sort((s,f)=>s.localeCompare(f));return{instanceMethods:n,instanceGetters:r,isCommentOrTextNode:i,isNode:o,isComment:a,isText:l,isHtmlString:g,isArrayOfHtmlElements:$,isArrayOfHtmlStrings:p,ElemArray2HtmlString:C,input2Collection:h,setCollectionFromCssSelector:S,addHandlerId:d,cssRuleEdit:e,addFn:t,elems4Docs:b}}function V(e){return new Proxy(e,{get:(t,n)=>rn(t,n,e)})}function en(e,t){return(...n)=>u(e,Function)&&e(V(t),...n)}function tn(e,t){return(...n)=>u(e,Function)&&e(V(t),...n)}function rn(e,t,n){switch(!0){case u(t,Symbol):return e;case u(+t,Number):return e.collection?.[t]||`ELEMENT WITH INDEX ${t} NOT FOUND`;case t in ht:return tn(ht[t],n)();case t in pt:return en(pt[t],n);default:return e[t]}}function Tt(e){let t=un(e);return Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([n,r])=>{Object.defineProperty(e,n,r),Object.defineProperty(Gr,n,r)}),e}function nn(e){return{allow:t=>{let n=/-/.test(t),r=n&&t;t=n?ie(t):t.toLowerCase(),z.allowTag(t),u(e[t],Function)||Object.defineProperties(e,ze(t,!0,e,r))},prohibit:t=>{t=t.toLowerCase(),z.prohibitTag(t),u(e[t],Function)&&Object.defineProperties(e,ze(t,!1,e))}}}function yt(...e){if(e.length===1){let t=String(e.shift().trim());e=t.startsWith("!")?[t.slice(1,-1)]:t.split(",").map(n=>n.trim())}e.map(t=>t.startsWith("!")?t.slice(1,-1):t).forEach(t=>je(t,{removeRule:1}))}function on(e){return function(t,n,...r){return u(n,Function)&&(r.push(n),n=void 0),r.forEach(i=>e(t,n,i))}}function an(e){return function(t,n,r){n=n?.isJQx?n?.[0]:n,r=r&&Object.values(N).find(o=>r===o)?r:void 0;let i=e(t,document.createElement("br"));return n&&!u(n,HTMLBRElement)&&i.collection.forEach(o=>r?n.insertAdjacentElement(r,o):n.append(o)),i}}function ln(...e){let t={};for(let n of e){let r=Object.getOwnPropertyDescriptors(n);Object.entries(r).forEach(([i,o])=>!(i in t)&&Object.defineProperty(t,i,o))}return t}function sn(e){console.error(`JQx: "${e}" not allowed, not rendered`)}function cn(e,t,n,r){return e=j(r||e.toLowerCase()),{get(){return(...i)=>t?n.virtual(ae(Me[e](...i))):sn(e)},enumerable:!1,configurable:!0}}function ze(e,t,n,r){e=e.toLowerCase();let i=cn(e,t,n,r);return r?{[r]:i,[ie(r)]:i}:{[e]:i,[e.toUpperCase()]:i}}function un(e){return ln(Object.entries(z.tagsRaw).reduce(mn(e),{}),dn(e))}function mn(e){return function(t,[n,r]){return r&&Object.defineProperties(t,ze(n,r,e)),t}}function dn(e){let t=(r,i)=>je(r,i),n=nn(e);return{debugLog:L,log:(...r)=>I("fromStatic",...r),insertPositions:N,get at(){return N},editCssRules:(...r)=>r.forEach(i=>je(i)),editCssRule:t,get setStyle(){return t},delegate:on(gt()),virtual:an(e),get fn(){return Xr},allowTag:n.allow,prohibitTag:n.prohibit,get lenient(){return z.allowUnknownHtmlTags},get IS(){return u},get Popup(){return e.activePopup||Object.defineProperty(e,"activePopup",{value:ft(e),enumerable:!1}),e.activePopup},popup:()=>e.Popup,createStyle:r=>oe({createWithId:r||`jqx${R()}`}),editStylesheet:r=>oe({createWithId:r||`jqx${R()}`}),removeCssRule:yt,removeCssRules:yt,text:(r,i=!1)=>i?e.comment(r):document.createTextNode(r),node:(r,i=document)=>i.querySelector(r,i),nodes:(r,i=document)=>[...i.querySelectorAll(r,i)]}}var y=Tt(fn());function fn(){return function(n,r,i=N.BeforeEnd){if(n?.isJQx)return n;let o=u(r,HTMLBRElement);r=(!o&&r&&r.isJQx?r[0]:r)||document.body,i=i&&Object.values(N).find(S=>i===S)?i:void 0;let a=bt(n),l=!a&&St(n),g=l||a,p={collection:$t(n)??[],isVirtual:o,isJQx:!0},$=xt(p.collection),C=`input =&gt; ${l?`"${Z(n.join(", "),70)}"`:!g&&$?`element collection [${Z(p.collection.map(S=>`${u(S,Comment,Text)?"Comment|Text @":""} ${S?.outerHTML||S?.textContent}`).join(", "),70)}]`:`"${Z(n,70)}"`}`;if(p.collection.length&&$)return k(C),o||p.collection.forEach(S=>{r.contains(S)||q([S],r,i)}),V(p);if(g){if([n].flat().forEach(S=>p.collection.push(O(S))),p.collection.length>0){let S=p.collection.filter(d=>d?.dataset?.jqxcreationerror);p.collection=p.collection.filter(d=>!d?.dataset?.jqxcreationerror),k(`${C}`),k(`*Created ${p.isVirtual?"VIRTUAL ":""}[${Z(vt(p.collection)||"sanitized: no elements remaining",70)}]`),S.length&&console.error(`JQx: illegal html, not rendered: "${S.reduce((d,b)=>d.concat(`${b.textContent}
`),"").trim()}"`),p.isVirtual||q(p.collection,r,i)}return V(p)}let h=wt(n,r,p);return k(`input => ${h}`),V(p)}}var[G,X,Re,Pe]=["2-digit","numeric","long","short"],ge={fixed:{MM:{month:Re},M:{month:Pe},m:{month:X},mm:{month:G},yyyy:{year:X},yy:{year:G},WD:{weekday:Re},wd:{weekday:Pe},d:{day:X},dd:{day:G},h:{hour:X},hh:{hour:G},mi:{minute:X},mmi:{minute:G},s:{second:X},ss:{second:G},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:e=>({timeZoneName:e.slice(4)}),hrc:e=>({hourCycle:`h${e.slice(4)}`}),ds:e=>({dateStyle:e.slice(3)}),ts:e=>({timeStyle:e.slice(3)}),tz:e=>({timeZone:e.slice(3)}),e:e=>({era:e.slice(2)}),l:e=>({locale:e.slice(2)})}},ee={...ge,retrieveDynamic(e){let t=e?.slice(0,e?.indexOf(":"));return ge.dynamic[t]&&ge.dynamic[t](e)},get re(){return new RegExp(`\\b(${Object.keys(ge.fixed).join("|")})\\b`,"g")}},be=gn;function gn(e,t,n="l:default"){return/ds:|ts:/.test(n)?pn(e,Dt(void 0),n):yn(e,Dt(t||void 0),n)}function Dt(e="dtf",t=0){let n=` ${e.replace(/(?<=\{)(.+?)(?=})/g,i=>`[${t++}]`).replace(/[{}]/g,"").trim()} `,r=e.match(/(?<=\{)(.+?)(?=})/g)||[];return{get texts(){return r},formatString(i){n=i},set formatStr(i){n=i},get formatStr(){return n},get units(){return n.match(ee.re)||[]},finalize(i="",o="",a="",l=""){return n.replace(/~([\d+]?)/g,"$1").replace(/dtf/,i).replace(/era/,a).replace(/dp\b|~dp\b/,o).replace(/yn\b/,l).replace(/\[(\d+?)]/g,(g,p)=>r[p].trim()).trim()}}}function Rt(...e){return e?.reduce((t,n)=>({...t,...ee.retrieveDynamic(n)||ee.fixed[n]}),ee.fixed.dl)}function pn(e,t,n){let r=Rt(...Pt(n).split(",")),i=Intl.DateTimeFormat(r.locale,r).format(e);return t.finalize(i)}function hn(e,t){return e==="numeric"&&t.startsWith("0")?t.slice(1):t}function yn(e,t,n){let r=Rt(...t.units.concat(Pt(n).split(",")).flat()),i={...ee.fixed},o=Intl.DateTimeFormat(r.locale,r).formatToParts(e).reduce((a,l)=>l.type==="literal"&&/[ ,/-]/.test(l.value)?a:{...a,[l.type]:hn(r[l.type],l.value)},{});return i.ms=r.fractionalSecondDigits?i.msp:i.ms,i.yyyy=o.relatedYear?i.ry:i.yyyy,t.formatStr=t.formatStr.replace(ee.re,a=>/^(M|MM)$/.test(a)?bn(e,r.locale,r.timeZone,/^M$/.test(a)):o[Object.keys(i[a]).shift()]||a),t.finalize(void 0,o.dayPeriod,o.era,o.yearName)}function bn(e,t,n,r){return e.toLocaleString(t,{timeZone:n,month:r?Pe:Re})}function Pt(e){return e.replace(/\s+/g,"")}var xn=Sn;function Sn(){let e=(r,i)=>{let o=isNaN(new Date(r)),a=isNaN(new Date(i));if(a){let[l,g,p]=Array(3).fill("end date not valid");return{error:!0,message:l,full:g,clean:p}}if(o){let[l,g,p]=Array(3).fill("start date not valid");return{error:!0,message:l,full:g,clean:p}}if(o&&!a){let[l,g,p]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:l,full:g,clean:p}}return{error:!1}},t=n();return function({start:r,end:i,diffs:o={}}={}){let a=e(r,i),l=i>r?"+":"-";if(a.error)return a;let g=Math.abs(r-i),p=new Date(g),$=p.getUTCFullYear()-1970,C=p.getUTCMonth(),h=p.getUTCDate()-1,S=h%7,d=Math.floor(h/7),b=p.getUTCHours(),s=p.getUTCMinutes(),f=p.getUTCSeconds(),w=p.getUTCMilliseconds(),c=Math.floor(g/864e5);o={...o,fromUTC:r,toUTC:i,sign:"",years:$,months:C,days:h,hours:b,minutes:s,seconds:f,milliseconds:w,diffInDays:c},o.full=t({values:o,full:!0}),o.clean=t({values:o}),o.equalDates=o.clean==="Dates are equal";let m=b+s+f>0?"T":"";return o.clean!=="Dates are equal"&&(o.sign=l,o.jsPeriod=`${l}P${$>0?`${$}Y`:""}${C>0?`${C}M`:""}${d>0?`${d}W`:""}${S>0?`${S}D`:""}${m}${b>0?`${b}H`:""}${s>0?`${s}M`:""}${f>0?`${f}S`:""}`,o.ISOPeriod=`P${$>0?`${$}Y`:""}${C>0?`${C}M`:""}${h>0?`${h}D`:""}${m}${b>0?`${b}H`:""}${s>0?`${s}M`:""}${f>0?`${f}S`:""}`),o};function n(){let r=(...o)=>a=>o.reduce((l,g)=>g(l),a),i=(o,a)=>o===1?a.slice(0,-1):a;return r(({values:o,full:a})=>[Object.entries(o).filter(([l])=>/^(years|month|days|hours|minutes|seconds)/i.test(l)),a],([o,a])=>a?o:o.filter(([,l])=>a?+l:l>0),o=>o.reduce((a,[l,g])=>[...a,`${g} ${i(g,l)}`],[]),o=>o.length<1?"Dates are equal":`${o.slice(0,-1).join(", ")}${o.length>1?" and ":""}${o.slice(-1).shift()}`)}}var vn=$n;function $n(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((r,[i,o])=>({...r,[i]:o,[`${i}s`]:o}),{}),t=!1,n=function(...r){let i=r.length===1;return t=r[0].trim().startsWith("subtract,"),t&&(r=i?r[0].trim().replace(/^subtract,/i,"").split(",").map(o=>o.trim()):r.filter(o=>!o.startsWith("subtract"))),i&&!t&&(r=r[0].split(",").map(o=>o.trim())),r.map(function(o){if(!o)return!1;let a=o.toLowerCase().split(/ {1,}/);return a.length<2?!1:a.map(l=>{l=`${l}`.trim().replace(/[^a-z0-9-+]/g,"");let g=parseInt(l,10);return Number.isNaN(g)?l:t?-g:+g})}).filter(o=>o)};return function(r,...i){if(i.length<1)return r;let o=n(...i);return o.length&&o.forEach(([a,l])=>{l=l,l=e[l],a&&l&&r[`set${l}`](r[`get${l}`]()+a)}),r}}var Jt=xn(),Ut=Nn(),H=vn();function Ct(e,...t){return H(e,...t),e}function ke(e,{start:t,end:n,future:r,past:i,include:o={start:!1,end:!1}}={}){let a=e.clone.UTC;return t=t?.value||t?.constructor===Date?D(t?.value||t).UTC:D.now.UTC,n=n&&n?.value||n?.constructor===Date?D(n?.value||n).UTC:D.now.UTC,a.milliseconds=0,t.milliseconds=0,n.milliseconds=0,r?t>n:i?t<n:(o.start?+a>=+t:+a>+t)&&(o.end?+a<=+n:+a<+n)}function Et(e,{zoneTime:t=!1,formatStr:n,moreOptions:r}={}){return r=t?e.localeInfo.formatOptions+(r?`,${r}`:""):E.formatOptions+(r?`,${r}`:""),t?(e.localeInfo||(e.localeInfo=E),be(e,n,r)):wn(e,n,r)}function wn(e,t,n){let r=e.clone.relocate(E);return n=(n||"").startsWith("+")?`${r.localeInfo.formatOptions},${n.slice(1)}`:n||r.localeInfo.formatOptions,be(r,t,n)}function Tn(e,t){let n=Jt({start:e,end:t||e});return parseInt(`${n.sign}${n.diffInDays}`)}function Lt(e,t=!1){let{locale:n,timeZone:r}=t?e.localeInfo:E,i=tr(n,r),o=e.format("MM|WD",i).split("|");return{locale:n,timeZone:r,monthName:o[0],dayName:o[1],dayNames:er(n),monthNames:_e(n)}}function Ft(e,t=!1){let[n,r,i,o]=Je(e,t),a={values4Timezone:t?E.timeZone:e.timeZone,hours:n,minutes:r,seconds:i,milliseconds:o};return Object.freeze(a)}function Je(e,t=!1){let n=`l:en-CA,${t?`tz:${E.timeZone}`:`tz:${e.timeZone}`},hrc:23,ts:medium`;return e.format("",n).split(/:/).map(Number).concat(e.getMilliseconds())}function Mt(e,t){let n=t?`tz:${E.timeZone}`:`,tz:${e.timeZone}`,[r,i,o]=e.format("yyyy-mm-dd",n).split(/-/).map(Number);i-=1;let a=t?E.timeZone:e.timeZone;return Object.freeze({values4Timezone:a,year:r,month:i,date:o})}function Nt(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let n=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return n[1]-=1,n}function Dn(e,{sunday:t=!1}={}){return Ue(e,{day:t?"sunday":"monday"})}function Cn(e,t){let n=e.toString().match(/GMT([+-])\d+/)?.[0]?.slice(3)??"+0000",r=t.toString().match(/GMT([+-])\d+/)?.[0]?.slice(3)??"+0000";return n=Be(n.slice(0,3)+":"+n.slice(-2),!0),r=Be(r.slice(0,3)+":"+r.slice(-2),!0),[-n[0]+r[0],-n[1]+r[1]].map(i=>n[0]<0?-i:i)}function Bt({start:e,end:t}={}){t||(t=e.clone),t?.clone||(t=D(t,{timeZone:e.timeZone})),e=D(Zt(e,e.timeZone),{timeZone:e.timeZone}),t=D(Zt(t,t.timeZone),{timeZone:t.timeZone});let n=Jt({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}}),r=Cn(t,e),i=r[0]>0?"ahead of":"behind",[o,a]=r.map(p=>Math.abs(p)),[l,g]=[`${o} ${ue(o,"hour")}`,`${a} ${ue(a,"minute")}`];return n.timeZonesOffsetDifference=n.sign.length<1||o+a===0?`Offsets of ${e.timeZone} and ${t.timeZone} are equal`:`${e.timeZone} is ${l}${a>0?` and ${g}`:""} ${i} ${t.timeZone}`,n}function En(e){return e==="+"?"-":"+"}function It(e,t){let n=String(t).toLowerCase()==="utc"||t.timeZone==="UTC";t=n?e.clone.relocate({timeZone:"UTC"}):D(e.value,{timeZone:t.timeZone||E.timeZone});let r=Bt({start:e.clone,end:t}),i=`${n?En(r.sign):r.sign}${Ot(r.hours)}:${Ot(r.minutes)}`;return{fromTZ:e.timeZone,toTZ:t.timeZone,offset:i,offsetText:`${t.timeZone} `+Ln(i)+` ${e.timeZone}`}}function Ot(e,t=2){return`${e}`.padStart(t,"0")}function ue(e,t){return`${t}${e>1||e===0?"s":""}`}function Ln(e){if(/00:00/.test(e))return"no time diffence to";let t=e.slice(1).split(":").map(Number),[n,r]=t,i=e.at(0)==="+";return r>0?`${n} ${ue(n,"hour")} and ${r} ${ue(r,"minute")} ${i?"ahead of":"behind"}`:`${n} ${ue(n,"hour")} ${i?"ahead of":"behind"}`}function At(e,t,n){return e.clone.format(t,n||e.localeInfo.formatOptions)}function Fn(e,{withFormat:t,withFormatOptions:n,local:r=!1}={}){if(t)return r?At(e,t,$D.localeInformation.formatOptions):At(e,t,n);let i=e.clone.relocate({locale:"en"}),o=r?E.formatOptions:i.localeInfo.formatOptions,a=`wd M dd yyyy hh:mmi:ss ${i.format("tz",o+",tzn:longOffset").replace(":","")} (tz)`;return i.format(a,o+",tzn:long, hrc:23")}function Qt(e,t=!1){let n=Intl.DateTimeFormat("en",{timeZone:t?e.timeZone:E.timeZone,weekday:"short"});return Ut(n.format(e))}function Mn(e){let t=E,n=e.localeInfo,r=e.clone.relocate({locale:t.locale,timeZone:t.timeZone}),i=e.offsetFrom(r),o=r.offsetFrom(e),a=t,l=n,g=e.format("hh:mmi:ss dp",`hrc:12,tz:${e.timeZone}`),p=r.format("hh:mmi:ss dp",`hrc:12,tz:${r.timeZone}`),$={note:"'user' are values for your locale/timeZone, 'remote' (if applicable) idem for the instance",locales:{user:{locale:a.locale,timeZone:a.timeZone}},dateTime:{user:{...e.dateTime,monthName:r.monthName,weekdayNr:r.day,weekdayName:r.dayName,dayPeriodTime:p,hasDST:r.hasDST,DSTActive:r.DSTActive,offsetFromRemote:i.offset,string:r.toString()}},offset:{fromUTC:e.UTC.offsetFrom(e).offsetText}};return n.timeZone!==t.timeZone&&($.locales.remote={locale:l.locale,timeZone:l.timeZone},$.dateTime.remote={...e.zoneDateTime,monthName:e.zoneNames.monthName,weekdayNr:Qt(e,!0),weekdayName:e.zoneNames.dayName,dayPeriodTime:g,hasDST:e.hasDST,DSTActive:e.DSTActive,offsetFromUser:o.offset,string:e.toString()},$.offset.fromUserTime=o.offsetText),$}function pe(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let n=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return n[1]-=1,n}function Wt(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function _t(e,t){t=M({locale:t}).locale;let n=e.clone.relocate({locale:t});return n.date={date:1},[n].concat([...Array(Wt(n)-1)].map((r,i)=>n.clone.add(`${i+1} days`)))}function Ue(e,{day:t,next:n=!1}={}){let r=Ut(t?.toLowerCase()),i=D(new Date(...e.dateTimeValues),e.localeInfo);return r<0?(console.error(`[TickTock instance].next/previous invalid day value ${t}`),i):qt(i,r,n?1:-1)}function qt(e,t,n){return H(e,`${n} day`).getDay()<t?qt(e,t,n):e}function he(e,{dateOnly:t=!1,timeOnly:n=!1}={}){e.localeInfo||(e.localeInfo=ce());let{locale:r,timeZone:i}=e.localeInfo;return t?new Date(e).toLocaleDateString(r,{timeZone:i}):n?new Date(e).toLocaleTimeString(r,{timeZone:i}):new Date(e).toLocaleString(r,{timeZone:i})}function Zt(e,t){let n={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",n))}function se(e,{year:t,month:n,date:r}={}){return A(t)&&e.setFullYear(parseInt(t)),A(r)&&e.setDate(parseInt(r)),A(n)&&e.setMonth(parseInt(n)),e}function K(e,{hours:t,minutes:n,seconds:r,milliseconds:i}={}){return A(t)&&e.setHours(parseInt(t)),A(n)&&e.setMinutes(parseInt(n)),A(r)&&e.setSeconds(parseInt(r)),A(i)&&e.setMilliseconds(parseInt(i)),e}function Yt(e){return e?.constructor===Date||e?.value}function Ht(e,t){return Yt(t)?D(t?.value||t,e.localeInfo):D.from(...e.dateTimeValues).relocate(e.localeInfo)}function Nn(){let e={short:["sun","mon","tue","wed","thu","fri","sat"],long:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]};return function(t){t=`${t}`.toLowerCase();let n=e.short.indexOf(t);return n<0?e.long.indexOf(t):n}}function Be(e,t=!1){if(t){let n=e.slice(1).split(/[-:]/).map(Number),r=e.slice(0,1)==="-";return n=n.map(i=>r?-i:i),n}return Number(e.split(/[+-]/).slice(-1)[0].replace(/:/,""))}function In(e){return e.time={hours:0,minutes:0,seconds:0,milliseconds:0},e}function jt(e,t){return Intl.DateTimeFormat("en-CA",{timeZone:t,timeZoneName:"long"}).format(e).split(/,/)[1].trim()}function Vt(e,t){t=t||e?.timeZone||E.timeZone,e=e?.value?e:e?.constructor===Date?D(e,{timeZone:t}):D({timeZone:t});let n=e.year||e.getFullYear(),r=jt(new Date(n,0,1),t),i=jt(new Date(n,5,1),t);return r!==i}function Gt(e,t){return t=t||e?.timeZone||E.timeZone,e=e?.hasDST?e:e?.constructor===Date?D(e,{timeZone:t}):D({timeZone:t}),e.hasDST?!/standard/i.test(e.toString()):!1}function On(e,{locale:t,timeZone:n,l:r,tz:i}={}){return e.localeInfo=M({locale:r||t||e.l||e.locale,timeZone:i||n||e.tz||e.timeZone}),e}function An(e,t){return Yt(t)&&(e=D(t.value||t,t.localeInfo||e.localeInfo)),e}function We(e,t){let n=Xt(new Date(e,11,t||31));return n===1?We(e,(t||31)-1):n}function zt(e,t){let n=e.month;switch(!0){case n<3:return t?1:"First";case n<6:return t?2:"Second";case n<9:return t?3:"Third";case n<12:return t?4:"Fourth";default:return"unknown"}}function Xt(e){let t=new Date(e),n=(t.getDay()+6)%7;t.setDate(t.getDate()-n+3);let r=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((r-t)/6048e5)}var Kt=Zn;function Zn({localeInfo:e,customMethods:t,dateValue:n}={}){let r,i={add(...o){return Ct(r,...o)},between({start:o,end:a,include:l}={}){return ke(r,{start:o,end:a,include:l})},cloneWith(o){return Ht(r,o)},daysUntil(o){return Tn(r,o)},differenceTo(o){return Bt({start:r,end:o})},differenceUntil(o){return r.differenceTo(o).clean},firstWeekday({sunday:o=!1,midnight:a=!1}={}){return Dn(r,{sunday:o,midnight:a})},format(o,a){return Et(r,{formatStr:o,moreOptions:a})},fullMonth(o){return _t(r,o)},isFuture(o){return ke(r,{start:r,end:o,future:!0})},isPast(o){return ke(r,{start:r,end:o,past:!0})},next(o){return Ue(r,{day:o,next:!0})},offsetFrom(o){return It(r,o)},previous(o){return Ue(r,{day:o,next:!1})},relocate({locale:o,timeZone:a,l,tz:g}={}){return On(r,{locale:o,timeZone:a,l,tz:g})},revalue(o){return r=An(r,o),r},setDateValues({year:o,month:a,date:l}={}){return se(r,{year:o,month:a,date:l})},setTimeValues({hours:o,minutes:a,seconds:l,milliseconds:g}={}){return K(r,{hours:o,minutes:a,seconds:l,milliseconds:g})},subtract(...o){return Ct(r,"subtract,"+o.join(","))},toArray(o=!1){return pe(r,o)},toString({template:o,formatOptions:a,local:l}={}){return Fn(r,{withFormat:o,withFormatOptions:a,local:l})},values(o=!1){return o?r.dateTime:r.zoneDateTime},zoneFormat(o,a){return Et(r,{zoneTime:!0,formatStr:o,moreOptions:a})},set date({year:o,month:a,date:l}){se(r,{year:o,month:a,date:l})},set dateNr(o){se(r,{date:o})},set hours(o){K(r,{hours:o})},set localeInfo({locale:o,timeZone:a,l,tz:g}){e=ce({locale:o,timeZone:a,l,tz:g})},set milliseconds(o){K(r,{milliseconds:`${o}`})},set minutes(o){K(r,{minutes:o})},set month(o){se(r,{month:o})},set seconds(o){K(r,{seconds:o})},set time({hours:o,minutes:a,seconds:l,milliseconds:g}){K(r,{hours:o,minutes:a,seconds:l,milliseconds:g})},set year(o){se(r,{year:o})},get age(){return r.differenceTo(new Date).years},get ageFull(){return r.differenceTo(new Date).clean},get clone(){return Ht(r)},get date(){return Mt(r,!0)},get dateNr(){return r.date.date},get dateTime(){return{...r.date,...r.time}},get dateTimeValues(){return pe(r,!0)},get dateValues(){return Nt(r,!0)},get day(){return r.getDay()},get dayName(){return r.names.dayName},get daysThisMonth(){return Wt(r)},get DSTActive(){return Gt(r)},get hasDST(){return Vt(r)},get hours(){return r.time.hours},get info(){return Mn(r)},get isLeapYear(){return new Date(r.getFullYear(),2,0).getDate()===29},get ISO(){return r.toISOString()},get local(){return he(r)},get localDate(){return he(r,{dateOnly:!0})},get locale(){return(e||ce()).locale},get localeInfo(){return e},get localeString(){return he(r)},get localTime(){return he(r,{timeOnly:!0})},get milliseconds(){return r.getMilliseconds()},get minutes(){return r.time.minutes},get month(){return r.date.month},get monthName(){return r.names.monthName},get names(){return Lt(r)},get quarter(){return zt(r)},get quarterNr(){return zt(r,!0)},get removeTime(){return In(r)},get seconds(){return r.time.seconds},get time(){return Ft(r,!0)},get timeValues(){return Je(r,!0)},get timeZone(){return(e||ce()).timeZone},get unixEpochTimestamp(){return Math.floor(+r/1e3)},get userLocaleInfo(){return E},get UTC(){return r.clone.relocate({locale:r.locale,timeZone:"UTC"})},get UTCOffset(){return It(r,"UTC")},get value(){return new Date(r)},get weeknr(){return Xt(r)},get weeksInYear(){return We(r.year,31)},get year(){return r.date.year},get zoneDate(){return Mt(r,!1)},get zoneDateNr(){return r.zoneDate.date},get zoneDateTime(){return{...r.zoneDate,...r.zoneTime}},get zoneDateTimeValues(){return pe(r,!1)},get zoneDateValues(){return Nt(r,!1)},get zoneDay(){return Qt(r,!0)},get zoneDayname(){return r.zoneNames.dayName},get zoneHours(){return r.zoneTime.hours},get zoneMinutes(){return r.zoneTime.minutes},get zoneMonth(){return r.zoneDate.month},get zoneMonthname(){return r.zoneNames.monthName},get zoneNames(){return Lt(r,!0)},get zoneSeconds(){return r.zoneTime.seconds},get zoneTime(){return Ft(r)},get zoneTimeValues(){return Je(r)},get zoneYear(){return r.zoneDate.year},get zoneValues(){return r.zoneDateTime},get zoneArray(){return pe(r,!1)}};return!e&&!n?i:(i.localeInfo=e||ce(),r=new Proxy(n,Hn(i)),Object.entries(Object.getOwnPropertyDescriptors(rr(r,t))).forEach(([o,a])=>Object.defineProperty(i,o,a)),Object.freeze(r))}function Hn(e){return{get(t,n){return n!=="toString"&&n in t?t[n].bind(t):Reflect.get(e,n)},set(t,n,r){return n in e&&Reflect.set(e,n,r)}}}var E=Qe(Intl.DateTimeFormat().resolvedOptions()),jn=Object.getOwnPropertyNames(Date.prototype).filter(e=>e.startsWith("set")).reduce((e,t)=>[...e,{native:t,syn:"change"+t.slice(3)}],[]);function er(e="en-GB"){return e=M({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function _e(e="en"){return e=M({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function zn({year:e,locale:t}={}){e=A(e)?parseInt(e):new Date().getFullYear();let n={year:e,calendar:{}},r=_e().long.map(i=>i.toLowerCase());for(let i=0;i<12;i+=1){let o=D.from(e,i,1);n.calendar[r[i]]=_t(o,t)}return n}function kn({year:e,monthNr:t,locale:n="en-CA"}={}){e=A(t)&&parseInt(e)||-1,t=A(t)&&parseInt(t)||new Date().getFullYear();let r=t>=1&&t<=12;return n=M({locale:n}).locale,t=r?t-1:void 0,r?D.from(e,t,1).relocate({locale:n}).fullMonth(n):"MonthNr should be a specific number (1 = january - 12 = december)"}function Qe(e){let t=tr(e.locale,e.timeZone);return Object.defineProperty(e,"formatOptions",{value:t,enumerable:!1})}function tr(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(n=>n).join(",")}function M({locale:e,timeZone:t,l:n,tz:r}={}){return t=t||r,e=e||n,!e&&!t?E:Pn({trial:function(){let i=Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions();return e&&i.locale!==e&&console.error(`\u{1F6AB} Intl changed locale (using best fit) "${e}" to "${i.locale}"`),Qe(i)},whenError:function(i){switch(!0){case/incorrect locale/i.test(i.message):return console.error(`\u{1F6AB} Intl locale "${e}" best fit impossible, using "${E.locale}"`),M({locale:E.locale,timeZone:t});case/invalid time zone/i.test(i.message):return console.error(`\u{1F6AB} timeZone "${t}" not valid. Using "${E.timeZone}"`),M({locale:e,timeZone:E.timeZone});default:return E||Qe(Intl.DateTimeFormat().resolvedOptions())}}})}function ce({locale:e,timeZone:t,l:n,tz:r}={}){return M({locale:e,timeZone:t,l:n,tz:r},!0)}function kt(e){return!Number.isNaN(+e)&&e?.constructor===Date&&!e?.toISOString?.().startsWith("1970-01-01T00:00:00")?e:new Date}function Rn(e){let t=new Date;switch(!0){case e?.constructor===String:return kt(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return e.length===1?new Date(e[0],0,1):new Date(...e);case e?.constructor===Date:return kt(e);default:return t}}function Pn({trial:e,whenError:t=()=>{}}={}){if(e?.constructor===Function)try{return e()}catch(n){return t?.constructor===Function?t(n):void 0}}function Jn({timeZoneDate:e,timeZoneID:t,userTimeZoneID:n}={}){let r={timeZone:M({timeZone:t}).timeZone},i={timeZone:M({timeZone:n||""}).timeZone},o=D(e,r),a=D(e,i),l=a.differenceTo(o),g=o.offsetFrom(a).offset,[p,$]=Be(g,!0),C=a.clone.add(`${p} hours, ${$} minutes`),h=l.equalDates?"No difference":`Time offset ${g}: ${i.timeZone} is ${l.clean} ${p<0?"behind":"ahead of"} ${r.timeZone}`;return{remoteTimezone:r.timeZone,userTimezone:i.timeZone,timeDifference:h,result:{[r.timeZone.replace(/\//,"_")]:D(e).toString({template:"yyyy/mm/dd hh:mmi:ss",formatOptions:"hrc:23"}),[i.timeZone.replace(/\//,"_")]:C.toString({template:"yyyy/mm/dd hh:mmi:ss",formatOptions:"hrc:23"})}}}function A(e){return!Number.isNaN(parseInt(e))}function ye(e,t,n){return e?.constructor===Number?H(t,`${e} ${n}`):t}function Un(e){let t={addYears(n=1){return ye(n,e,"years")},addMonths(n=1){return ye(n,e,"months")},addWeeks(n=1){return n=n?.constructor===Number?n*7:1,ye(n,e,"days")},addDays(n=1){return ye(n,e,"days")},get nextYear(){return H(e,"1 year")},get nextWeek(){return H(e,"7 days")},get previousWeek(){return H(e,"-7 days")},get previousYear(){return H(e,"-1 year")},get nextMonth(){return H(e,"1 month")},get previousMonth(){return H(e,"-1 month")},get tomorrow(){return H(e,"1 day")},get yesterday(){return H(e,"-1 day")}};for(let n of jn)t[n.syn]=function(...r){return e[n.native](...r),e};return t}function rr(e,t){let n=Un(e);for(let[r,i]of Object.entries(t||{})){let o=i.enumerable,a=i.isGetter?{get(){return i.method(e)},enumerable:o}:{value(...l){return i.method(e,...l)},enumerable:o};Object.defineProperty(n,r,a)}return n}function Bn(e,t){return Object.defineProperties(e,{now:{get(){return e(new Date)}},localeInformation:{get(){return M()}},localWeekdaynames:{value(n){return er(n)}},localMonthnames:{value(n){return _e(n)}},daysInMonth:{value(n,r=!1){return n=A(n)?parseInt(n):0,n>=1&&n<=12?new Date(r?2e3:2005,n,0).getDate():`${n} should be a Number (1 (january) - 12 (december))`}},yearCalendar:{value:zn},monthCalendar:{value:kn},from:{value(...n){return e(n)}},fromUxTS:{value(n,r){n=A(n)?parseInt(n)*1e3:void 0;let i=n?new Date(n):new Date;return D(i,r||E)}},hasDST:{value({date:n,timeZone:r}={}){return Vt(n,r)}},DSTActive:{value({date:n,timeZone:r}={}){return Gt(n,r)}},values:{value({date:n,timeZone:r}={}){n=n||n?.value||new Date;let i=be(n,"yyyy-m-d-h-mi-s",M({timeZone:r}).formatOptions.concat(",hrc:23")).split("-").map(Number).concat(n.getMilliseconds());return i[1]-=1,i}},format:{value({date:n,template:r,timeZone:i,locale:o,opts:a}={}){n=n||n?.value||new Date,r=r?.constructor===String?r:"yyyy/mm/dd hh:mmi:ss dp";let l=M({timeZone:i,locale:o}).formatOptions;return l+=a?`,${a}`:"",be(n,r,l)}},addCustom:{value({name:n,method:r,enumerable:i=!1,isGetter:o=!1}={}){n?.constructor===String&&r?.constructor===Function&&r.length>0&&(t[n]={method:r,enumerable:i,isGetter:o})}},validateLocaleInformation:{value:M},timeAcrossZones:{value:Jn},weeksInYear:{value(n){return We(n,31)}},keys:{get(){let n=Object.fromEntries(Object.entries(t).filter(([r,i])=>i.enumerable===!0));return[...Object.keys(Kt()),...Object.keys(rr()),...Object.keys(n)].sort((r,i)=>r.localeCompare(i))}}}),e}var nr={},D=Bn(Qn,nr);function Qn(e,t){if(e?.localeInfo)return e.clone;let n=e?.locale||e?.timeZone||e?.tz||e?.l;return Kt({localeInfo:M(n?e:t),dateValue:new Date(n?Date.now():Rn(e)),customMethods:nr})}var Wn=(e,...t)=>{let n=t.length&&Array.isArray(t.slice(-1))?t.pop().join(""):"";return new RegExp((t.length&&e.raw.reduce((r,i,o)=>r.concat(t[o-1]||"").concat(i),"")||e.raw.join("")).split(`
`).map(r=>r.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),n)};Yn();_n();function _n(){/stackblitz/i.test(location.href)&&console.info("\u2714 Stackblitz rewrites links to _top. The 'stackblitzhelpers' module fixed it."),document.addEventListener("click",e=>{if(e.target.href){let t=e.target;if(t.dataset.top||t.classList.contains("internalLink")||t.target==="_top")return top.location.href=t.href}return!0})}function ri(e=!0){let t=y('<ul id="log2screen">').first();function n(o=!1){return a=>{if(a.isJQx)return y.li(a.data.get("header")?{class:"head"}:"",a).renderTo(t,o?y.at.start:y.at.end);a=y.IS(a,String,Number,Symbol)?String(a):qn(a,e);let l=a.startsWith("!!");a=l?a.slice(2):a,y.li(l?{class:"head"}:"",a).renderTo(t,o?y.at.start:y.at.end)}}let[r,i]=[n(),n(!0)];return{log:(...o)=>o.forEach(r),logTop:(...o)=>o.forEach(i)}}function qn(e,t){try{return t?`<pre>${JSON.stringify(e,null,2)}</pre>`:JSON.stringify(e)}catch{return"Some [Object object] can not be converted to JSON"}}function Yn(){y.editCssRules("body{font:normal 14px/17px system-ui,sans-serif;margin:1rem;}","li::marker{vertical-align:top;}","code{color:green;background-color:#eee;padding:2px;font-family:monospace;}","code.codeblock{display:block;padding:6px;border:1px solid #999;margin:0.5rem 0;background-color:#eee;white-space:pre-wrap;}","h3{marginTop:1.5rem;}",".thickBorder{border:5px solid green;borderWidth:5px;padding:0.5rem;display:inline-block;}","a.ExternalLink{text-decoration:none;color:rgb(0,0,238);background-color:#EEE;padding:3px;font-weight:bold;}",".cmmt{color:#888;}",".hidden{display:none;}",".attention{color:red; font-size:1.2em; font-weight:bold;}","#log2screen li{listStyle:'\\2713';paddingLeft:6px;margin:0.5rem 0 0 -1.2rem;font-family:monospace}","#log2screen li.head{list-style-type:none;font-weight:bold;margin-top:0.8rem;margin-bottom:-0.2rem;font-family:revert;}",".err{fontStyle:italic; color:red; }","a{text-decoration:none; font-weight:bold;}","a:hover{text-decoration:underline;}","a[target]:before,a.internalLink:before,a.externalLink:before{color:rgba(0,0,238,0.7);font-size:1.1rem;padding-right:2px;vertical-align:baseline;}",`a[target="_blank"]:before,a.externalLink:before{content:'\\2197';}`,`a[data-top]:before,a.internalLink:before,a[target="_top"]:before{content:'\\21BA';}`)}export{y as $,D as $D,ri as logFactory,Wn as regexhelper};
