var{IS:g,maybe:q,$Wrap:Ao,isNothing:Gt,xProxy:Po,addSymbolicExtensions:Lo}=Kt({useSymbolicExtensions:!1});function Kt(e={}){let{useSymbolicExtensions:t}=e,{shouldbeIsSingleObject:n,ISOneOf:r,isExcept:o,verifyNothingness:a,xProxy:u,determineType:c,addSymbolicExtensions:p,maybe:x,$Wrap:S}=en(d,t);return t&&p(),{IS:d,maybe:x,$Wrap:S,isNothing:a,xProxy:u,addSymbolicExtensions:p};function d(m,...b){let h=typeof m=="symbol"?Symbol.isSymbol:m;switch(!0){case!!x({trial:f=>"isTypes"in(b?.[0]??{})}):return n(m,b[0]);default:return b.length>1?r(h,...b):c(m,...b)}}}function en(e,t){let{SymbolAndCustomProxyFactory:n,maybeFactory:r,WrapAnyFactory:o,verifyNothingness:a,determineType:u}=tn(e,d),{xProxy:c,addSymbolicExtensions:p}=n(e,d,t),[x,S]=[r(),o(e,d)];return Object.freeze({shouldbeIsSingleObject:m,ISOneOf:b,isExcept:f,verifyNothingness:a,xProxy:c,determineType:u,addSymbolicExtensions:p,maybe:x,$Wrap:S});function d(i){return i?.[Symbol.proxy]??e(i)}function m(i,l){switch(!0){case"defaultValue"in l:return h(i,l);case"notTypes"in l:return f(i,l);default:return e(i,...[l.isTypes].flat())}}function b(i,...l){return l.some(s=>e(i,s))}function h(i,{defaultValue:l,isTypes:s=[void 0],notTypes:y}={}){return s=s?.constructor!==Array?[s]:s,y=y&&y?.constructor!==Array?[y]:[],y.length<1?e(i,...s)?i:l:f(i,{isTypes:s,notTypes:y})?i:l}function f(i,{isTypes:l=[void 0],notTypes:s=[void 0]}={}){return l=l?.constructor!==Array?[l]:l,s=s?.constructor!==Array?[s]:s,e(i,...l)&&!e(i,...s)}}function tn(){let e={IS:"toa.is",TYPE:"toa.type",IS_SYMBOL:"toa.isASymbol",PROXY:"toa.proxy"},t={NAN:"NaN",INFINITY:"Infinity",BOOLEAN:"Boolean",OBJECT:"Object",PROXY_PREFIX:"Proxy ("};return Object.freeze({SymbolAndCustomProxyFactory:r,maybeFactory:h,WrapAnyFactory:b,verifyNothingness:f,determineType:p});function n(i,l){Symbol.is||(Symbol.is=Symbol.for(e.IS),Symbol.type=Symbol.for(e.TYPE),Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return l(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...s){return i(this,...s)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(s){return l(s)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(s,...y){return i(s,...y)},enumerable:!1,configurable:!1}}))}function r(i,l,s){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for(e.IS_SYMBOL)),{xProxy:u(),addSymbolicExtensions:()=>n(i,l)}}function o(i){return(Gt(i,!0)?{name:"unknown"}:Object.getPrototypeOf(i)?.constructor).name}function a(i,l){return Proxy=new i(i,{construct(s,y){let v=new s(...y);return Object.defineProperty(v,l,{value:`${t.PROXY_PREFIX}${o(y[0])})`}),v}}),Proxy}function u(){Symbol.proxy||(Symbol.proxy=Symbol.for(e.PROXY));let i=Proxy;return{native(){Proxy=i},custom(){Proxy=a(i,Symbol.proxy)}}}function c(i,...l){let s=l.length<1,y=i==null;return{noInput:y,noShouldbe:s,compareTo:!s&&l[0],inputCTOR:!y&&(i?.constructor||Object.getPrototypeOf(i)?.constructor),isNaN:Number.isNaN(i)||q({trial:v=>String(i)===t.NAN}),isInfinity:q({trial:v=>String(i)})===t.INFINITY,shouldBeFirstElementIsNothing:!s&&f(l[0])}}function p(i,...l){let{noInput:s,noShouldbe:y,compareTo:v,inputCTOR:C,isNaN:Q,isInfinity:B,shouldBeFirstElementIsNothing:U}=c(i,...l);switch(l=l.length&&l[0],!0){case U:return String(i)===String(v);case(i?.[Symbol.proxy]&&y):return i[Symbol.proxy];case Q:return y?t.NAN:String(v)===String(i);case B:return y?t.INFINITY:String(v)===String(i);case s:return y?String(i):String(v)===String(i);case C===Boolean:return y?t.BOOLEAN:C===l;default:return S(i,l,y,x(i,C))}}function x(i,l){switch(!0){case i===0:return Number;case i==="":return String;case!i:return{name:String(i)};default:return l}}function S(i,l,s,y){switch(!0){case(!s&&l===i||i?.[Symbol.proxy]&&l===Proxy):return!0;case String(l)===t.NAN:return String(i)===t.NAN;case(i?.[Symbol.toStringTag]&&typeof l=="string"):return String(l)===i[Symbol.toStringTag];default:return l?m(i,l,y):d(i,y)}}function d(i,l){return(i?.[Symbol.toStringTag]??i?.prototype?.[Symbol.toStringTag])||l?.name||String(l)}function m(i,l,s){return q({trial:y=>i instanceof l})||l===s||l===Object.getPrototypeOf(s)||`${l?.name}`===s?.name}function b(i,l){return function(s){let y={get value(){return s},is(...v){return i(s,...v)},get type(){return l(s)}};return Object[Symbol.type]&&Object.defineProperties(y,{[Symbol.type]:{get(){return l(s)}},[Symbol.is]:{value(...v){return i(s,...v)}}}),Object.freeze(y)}}function h(){let i=l=>{};return function({trial:l,whenError:s=i}={}){try{return l()}catch(y){return s(y)}}}function f(i,l=!1){let s=i==null;return s=l?s||g(i,1/0)||g(i,NaN):s,s}}var nn=an(),ge=rn(),G=on();function rn(){return{html:Object.freeze("accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,contenteditable,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,is,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot".split(",")),svg:Object.freeze("accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan".split(","))}}function on(){return{a:!0,area:!0,audio:!1,br:!0,base:!0,body:!0,button:!0,canvas:!0,comment:!0,dl:!0,data:!0,datalist:!0,div:!0,em:!0,embed:!1,fieldset:!0,font:!0,footer:!0,form:!1,hr:!0,head:!0,header:!0,output:!0,iframe:!1,frameset:!1,img:!0,input:!0,li:!0,label:!0,legend:!0,link:!0,map:!0,mark:!0,menu:!0,media:!0,meta:!0,nav:!0,meter:!0,ol:!0,object:!1,optgroup:!0,option:!0,p:!0,param:!0,picture:!0,pre:!0,progress:!1,quote:!0,script:!1,select:!0,source:!0,span:!0,style:!0,caption:!0,td:!0,col:!0,table:!0,tr:!0,template:!1,textarea:!0,time:!0,title:!0,track:!0,details:!0,ul:!0,video:!0,del:!0,ins:!0,slot:!0,blockquote:!0,svg:!0,dialog:!0,summary:!0,main:!0,address:!0,colgroup:!0,tbody:!0,tfoot:!0,thead:!0,th:!0,dd:!0,dt:!0,figcaption:!0,figure:!0,i:!0,b:!0,code:!0,h1:!0,h2:!0,h3:!0,h4:!0,abbr:!0,bdo:!0,dfn:!0,kbd:!0,q:!0,rb:!0,rp:!0,rt:!0,ruby:!0,s:!0,strike:!0,samp:!0,small:!0,strong:!0,sup:!0,sub:!0,u:!0,var:!0,wbr:!0,nobr:!0,tt:!0,noscript:!0}}function an(){return["::backdrop{background-color:grey;opacity:0.2;}",`#jqxPopup{overflow:hidden;background-color:transparent;outline:none;border:none;inset:0;animation:fade-out 0.5s ease-out;&[open]{display:flex;align-items:center;justify-content:center;animation:fade-in 0.5s ease;}#jqxPopupContent{background-color:white;border:solid 1px #eee;box-shadow:1px 2px 8px #999;border-radius:4px;padding:12px;vertical-align:middle;max-height:40vh;max-width:50vw;overflow:auto;margin:0 auto;div:not(#closeHandleIcon){clear:both;}@media (width <= 640px){max-width:80vw;max-height:60vh;}#closeHandleIcon{cursor:pointer;width:24px;height:24px;display:inline;position:absolute;top:4px;right:4px;justify-content:right;background-image:url("data:image/svg+xml;utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E");@media (width <= 640px){background-image:none;position:relative;margin:-15px -15px 4px 0;float:right;vertical-align:middle;border:1px solid #AAA;padding:2px;border-radius:50%;width:12px;height:12px;font-size:12px;line-height:12px;font-weight:bold;text-align:center;&:after{content:'\\2714';color:green;}}}.warn{display:none;text-align:center;color:red;border-top:1px solid #999;margin-top:1em;padding-top:3px;animation:warn-fade-out 0.2s ease-out;}.warn.active{opacity:1;display:block;animation:warn-fade-in 0.2s ease-in;}}}`,"@keyframes fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1, 1);display:flex;}}","@keyframes fade-out{0%{opacity:1;transform:scale(1, 1);display:flex;}100%{opacity:0;transform:scale(0, 0);display:none;}}","@keyframes warn-fade-in{0%{opacity:0;transform:scale(0, 0);display:none;}100%{opacity:1;transform:scale(1,1 );display:block;}}","@keyframes warn-fade-out{0%{opacity:1;transform:scale(1, 1);display:block;}100%{opacity:0;transform:scale(0, 0);display:none;}}"]}var Ye={html:"innerHTML",text:"textContent",class:"className"},ln=un();function un(){let e={get(t,n){let r=String(n)?.toLowerCase();switch(!0){case r in t:return t[r];case hn(r):return Qe(t,r,n);default:return Qe(t,r,n,!0)}},enumerable:!1,configurable:!1};return new Proxy({},e)}function Qe(e,t,n,r=!1){return Object.defineProperty(e,t,{get(){return r?o=>pn(n):bn(t)}}),e[t]}function sn(e,t,n){return t=t?.isJQx&&t.first()||t,q({trial:r=>gn(t)?e.append(t):rt(t)?e.insertAdjacentHTML("beforeend",t):e.append(t),whenError:r=>console.info(`${n} (for root ${e}) not created, reason
`,r)})}function cn(e,t,...n){let r=mn(t,e);return n?.forEach(o=>sn(r,o,e)),r}function mn(e,t){switch(e=Oe(t)?yn(e):e?.isJQx?e.first():e,!0){case g(e,String):return V(t,rt(e,t)?{html:e}:{text:e});case g(e,Node):return dn(t,e);default:return V(t,e)}}function fn(e){return delete e.data,Object.keys(e).length<1||Object.keys(e).forEach(t=>{let n=t.toLowerCase();n in Ye&&(e[Ye[n]]=e[t],delete e[t])}),e}function dn(e,t){let n=V(e);return n.append(t),n}function V(e,t={}){t=nt(t,{});let n=Object.entries(t.data??{}),r=Object.assign(Oe(e)?new Comment(t?.text):document.createElement(e),fn(t));return n.length&&n.forEach(([o,a])=>r.dataset[o]=String(a)),r}function nt(e,t){return t?g(e,{isTypes:Object,notTypes:[Array,null,NaN,Proxy],defaultValue:t}):g(e,{isTypes:Object,notTypes:[Array,null,NaN,Proxy]})}function yn(e){return nt(e)?e?.text??e?.textContent??"":String(e)}function pn(e){return V("b",{style:"color:red",text:`'${e}' is not a valid HTML-tag`})}function rt(e,t){return!Oe(t)&&g(e,String)&&/<.*>|&[#|0-9a-z]+[^;];/i.test(e)}function gn(e){return e?.constructor===Comment||e?.constructor===CharacterData}function Oe(e){return e?.constructor===Comment||/comment/i.test(e)}function hn(e){return!g(V(e),HTMLUnknownElement)}function bn(e){return(t,...n)=>cn(e,t,...n)}var{IS:Z,maybe:fe,$Wrap:Mo,isNothing:Sn,xProxy:Fo,addSymbolicExtensions:ko}=xn({useSymbolicExtensions:!1});function xn(e={}){let{useSymbolicExtensions:t}=e,{shouldbeIsSingleObject:n,ISOneOf:r,isExcept:o,verifyNothingness:a,xProxy:u,determineType:c,addSymbolicExtensions:p,maybe:x,$Wrap:S}=vn(d,t);return t&&p(),{IS:d,maybe:x,$Wrap:S,isNothing:a,xProxy:u,addSymbolicExtensions:p};function d(m,...b){let h=typeof m=="symbol"?Symbol.isSymbol:m;switch(!0){case!!x({trial:f=>"isTypes"in(b?.[0]??{})}):return n(m,b[0]);default:return b.length>1?r(h,...b):c(m,...b)}}}function vn(e,t){let{SymbolAndCustomProxyFactory:n,maybeFactory:r,WrapAnyFactory:o,verifyNothingness:a,determineType:u}=Tn(e,d),{xProxy:c,addSymbolicExtensions:p}=n(e,d,t),[x,S]=[r(),o(e,d)];return Object.freeze({shouldbeIsSingleObject:m,ISOneOf:b,isExcept:f,verifyNothingness:a,xProxy:c,determineType:u,addSymbolicExtensions:p,maybe:x,$Wrap:S});function d(i){return i?.[Symbol.proxy]??e(i)}function m(i,l){switch(!0){case"defaultValue"in l:return h(i,l);case"notTypes"in l:return f(i,l);default:return e(i,...[l.isTypes].flat())}}function b(i,...l){return l.some(s=>e(i,s))}function h(i,{defaultValue:l,isTypes:s=[void 0],notTypes:y}={}){return s=s?.constructor!==Array?[s]:s,y=y&&y?.constructor!==Array?[y]:[],y.length<1?e(i,...s)?i:l:f(i,{isTypes:s,notTypes:y})?i:l}function f(i,{isTypes:l=[void 0],notTypes:s=[void 0]}={}){return l=l?.constructor!==Array?[l]:l,s=s?.constructor!==Array?[s]:s,e(i,...l)&&!e(i,...s)}}function Tn(){let e={IS:"toa.is",TYPE:"toa.type",IS_SYMBOL:"toa.isASymbol",PROXY:"toa.proxy"},t={NAN:"NaN",INFINITY:"Infinity",BOOLEAN:"Boolean",OBJECT:"Object",PROXY_PREFIX:"Proxy ("};return Object.freeze({SymbolAndCustomProxyFactory:r,maybeFactory:h,WrapAnyFactory:b,verifyNothingness:f,determineType:p});function n(i,l){Symbol.is||(Symbol.is=Symbol.for(e.IS),Symbol.type=Symbol.for(e.TYPE),Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return l(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...s){return i(this,...s)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(s){return l(s)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(s,...y){return i(s,...y)},enumerable:!1,configurable:!1}}))}function r(i,l,s){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for(e.IS_SYMBOL)),{xProxy:u(),addSymbolicExtensions:()=>n(i,l)}}function o(i){return(Sn(i,!0)?{name:"unknown"}:Object.getPrototypeOf(i)?.constructor).name}function a(i,l){return Proxy=new i(i,{construct(s,y){let v=new s(...y);return Object.defineProperty(v,l,{value:`${t.PROXY_PREFIX}${o(y[0])})`}),v}}),Proxy}function u(){Symbol.proxy||(Symbol.proxy=Symbol.for(e.PROXY));let i=Proxy;return{native(){Proxy=i},custom(){Proxy=a(i,Symbol.proxy)}}}function c(i,...l){let s=l.length<1,y=i==null;return{noInput:y,noShouldbe:s,compareTo:!s&&l[0],inputCTOR:!y&&(i?.constructor||Object.getPrototypeOf(i)?.constructor),isNaN:Number.isNaN(i)||fe({trial:v=>String(i)===t.NAN}),isInfinity:fe({trial:v=>String(i)})===t.INFINITY,shouldBeFirstElementIsNothing:!s&&f(l[0])}}function p(i,...l){let{noInput:s,noShouldbe:y,compareTo:v,inputCTOR:C,isNaN:Q,isInfinity:B,shouldBeFirstElementIsNothing:U}=c(i,...l);switch(l=l.length&&l[0],!0){case U:return String(i)===String(v);case(i?.[Symbol.proxy]&&y):return i[Symbol.proxy];case Q:return y?t.NAN:String(v)===String(i);case B:return y?t.INFINITY:String(v)===String(i);case s:return y?String(i):String(v)===String(i);case C===Boolean:return y?t.BOOLEAN:C===l;default:return S(i,l,y,x(i,C))}}function x(i,l){switch(!0){case i===0:return Number;case i==="":return String;case!i:return{name:String(i)};default:return l}}function S(i,l,s,y){switch(!0){case(!s&&l===i||i?.[Symbol.proxy]&&l===Proxy):return!0;case String(l)===t.NAN:return String(i)===t.NAN;case(i?.[Symbol.toStringTag]&&typeof l=="string"):return String(l)===i[Symbol.toStringTag];default:return l?m(i,l,y):d(i,y)}}function d(i,l){return(i?.[Symbol.toStringTag]??i?.prototype?.[Symbol.toStringTag])||l?.name||String(l)}function m(i,l,s){return fe({trial:y=>i instanceof l})||l===s||l===Object.getPrototypeOf(s)||`${l?.name}`===s?.name}function b(i,l){return function(s){let y={get value(){return s},is(...v){return i(s,...v)},get type(){return l(s)}};return Object[Symbol.type]&&Object.defineProperties(y,{[Symbol.type]:{get(){return l(s)}},[Symbol.is]:{value(...v){return i(s,...v)}}}),Object.freeze(y)}}function h(){let i=l=>{};return function({trial:l,whenError:s=i}={}){try{return l()}catch(y){return s(y)}}}function f(i,l=!1){let s=i==null;return s=l?s||Z(i,1/0)||Z(i,NaN):s,s}}var ot=wn;function wn({styleSheet:e,createWithId:t}={}){let{tryParseAtOrNestedRules:n,ruleExists:r,checkParams:o,sheet:a,removeRules:u,consider:c,currentSheetID:p}=$n({styleSheet:e,createWithId:t});function x(h,f){if(h&&f.removeProperties){Object.keys(f.removeProperties).forEach(i=>h.style.removeProperty(Be(i)));return}Object.entries(f).forEach(([i,l])=>{i=Be(i.trim()),l=l.trim();let s;if(/!important/.test(l)&&(l=l.slice(0,l.indexOf("!important")).trim(),s="important"),!CSS.supports(i,l))return console.error(`StylingFactory ${p} error: '${i}' with value '${l}' not supported (yet)`);Ue(()=>h.style.setProperty(i,l,s),`StylingFactory ${p} (setRule4Selector) failed`)})}function S(h,f,i=a){if(h=h?.trim?.(),!Z(h,String)||!h.length||/[;,]$/g.test(h))return console.error(`StylingFactory ${p} (setRules): [${h||"[no selector given]"}] is not a valid selector`);if(f.removeRule)return u(h);let l=r(h,!0),s=l||i.cssRules[i.insertRule(`${h} {}`,i.cssRules.length||0)];return c(()=>x(s,f),h,l)}function d(h){let f=h.trim().split(/{/,2),i=f.shift().trim();if(!Z(i,String)||!i?.trim()?.length)return console.error(`StylingFactory ${p} (doParse): no (valid) selector could be extracted from rule ${he(h)}`);let l=En(f.shift());return Ue(()=>S(i,l),`StylingFactory ${p} (setRules) failed`)}function m(h){let f=n(h);return f.done?f.existing:d(h)}function b(h,f){return h.trim().startsWith("@media")?m(On(h,f)):S(h,f)}return function(h,f={}){return o(h,f)&&(Object.keys(f).length?b(h,f):m(h))}}function $n({styleSheet:e,createWithId:t}){let n="Note: The rule or some of its properties may not be supported by your browser (yet)",r=`for style#${t}`;e=t?o(t):e;function o(m){let b=document.querySelector(`#${m}`)?.sheet;if(b)return b;let h=Object.assign(document.createElement("style"),{id:m});return document.head.insertAdjacentElement("beforeend",h),h.sheet}function a(m){return console.error(`StylingFactory ${r} [rule: ${m}]
    => @charset, @namespace and @import are not supported here`),{done:!0}}function u(m,b){return[...e.rules].find(h=>b?qe(h.selectorText||"",m):Cn`${Dn(m)}${[..."gim"]}`.test(h.cssText))}function c(m){return/^@charset|@import|namespace/i.test(m.trim())?a(m):m.match(/}/g)?.length>1?{existing:S(m,1),done:!0}:{done:!1}}function p(m){let b=[...e.cssRules].reduce((f,i,l)=>qe(i.selectorText||"",m)&&f.concat(l)||f,[]),h=b.length;return b.forEach(f=>e.deleteRule(f)),h>0?console.info(`\u2714 Removed ${h} instance${h>1?"s":""} of selector ${m} from ${r.slice(4)}`):console.info(`\u2714 Remove rule: selector ${m} does not exist in ${r.slice(4)}`)}function x(m,b){return m&&Z(m,String)&&m.trim().length>0&&Z(b,Object)||(console.error(`StylingFactory ${r} called with invalid parameters`),!1)}function S(m){m=m.trim();let b=m.slice(0,m.indexOf("{")).trim(),h=!!u(b);try{return e.insertRule(`${m}`,e.cssRules.length),h}catch(f){return console.error(`StylingFactory ${r} (tryParse) ${f.name} Error:
${f.message}
Rule: ${he(m)}
${n}`),h}}function d(m,b,h){try{return m(),h}catch(f){return console.error(`StylingFactory ${r} (tryAddOrModify) ${f.name} Error:
${f.message}
Rule: ${he(b)}
${n}`),h}}return{sheet:e,removeRules:p,tryParseAtOrNestedRules:c,ruleExists:u,checkParams:x,tryParse:S,consider:d,currentSheetID:r}}function On(e,t){return`${e.trim()} ${Object.entries(t).map(([n,r])=>`${n}: { ${Nn(r)}`)}`}function he(e){let t=(e||"NO RULE").trim().slice(0,50).replace(/\n/g,"\\n").replace(/\s{2,}/g," ");return e.length>t.length?`${t.trim()}...truncated`:t}function Nn(e){return Object.entries(e).map(([t,n])=>`${t}: ${n.trim()}`).join(`;
`)}function Dn(e){return e.replace(/([*\[\]()-+{}.$?\\])/g,t=>`\\${t}`)}function Cn(e,...t){let n=t.length&&Array.isArray(t.slice(-1))?t.pop().join(""):"";return new RegExp((t.length&&e.raw.reduce((r,o,a)=>r.concat(t[a-1]||"").concat(o),"")||e.raw.join("")).split(`
`).map(r=>r.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),n)}function Be(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/[^--]^-|-$/,"")}function Ue(e,t){try{return e()}catch(n){console.error(`${t||"an error occured"}: ${n.message}`)}}function In(e){return e.replace(/\/\*.+?\*\//gm,"").replace(/[}{\r\n]/g,"").replace(/(data:.+?);/g,(t,n)=>`${n}\\3b`).split(";").map(t=>t.trim()).join(`;
`).replaceAll("\\3b",";").split(`
`)}function jn(e){return e.reduce((t,n)=>{let[r,o]=[n.slice(0,n.indexOf(":")).trim(),n.slice(n.indexOf(":")+1).trim().replace(/;$|;.+(?=\/*).+\/$/,"")];return r&&o?{...t,[r]:o}:t},{})}function En(e){return jn(In(e))}function qe(e,t){return e?.replace("::",":")===t?.replace("::",":")}var be=!1,An={on:()=>be=!0,off:()=>be=!1},_={tagsRaw:G,allowUnknownHtmlTags:An,isAllowed(e){if(be)return!0;let t=g(e,String)?e.toLowerCase():e?.nodeName.toLowerCase()||"none";return t==="#text"||!!G[t]},allowTag:e=>G[e.toLowerCase()]=!0,prohibitTag:e=>G[e.toLowerCase()]=!1},Pn=!0,K={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/^javascript|injected|noreferrer|alert|DataURL/gi};function Ln(e){if(Pn&&Object.keys(e.removed).length){let t=Object.entries(e.removed).reduce((n,[r,o])=>[...n,`${ne(r)} => ${o}`],[]).join("\\000A");D.error(`JQx: HTML creation error(s): ${t}`)}}function Mn(e){let t=e.nodeName.toLowerCase(),n=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];return/-/.test(t)&&!n.find(r=>r===t)||_.isAllowed(t)}function Ne(e){let t={rawHTML:e?.parentElement?.getHTML()??"no html",removed:{}};return g(e,HTMLElement)&&[...e.childNodes].forEach(n=>{if(n?.children?.length&&Ne(n),n?.attributes){let r=g(n,SVGElement)?ge.svg:ge.html;[...(n??{attributes:[]}).attributes].forEach(o=>{let a=o.name.trim().toLowerCase(),u=o.value.trim().toLowerCase().replace(K.whiteSpace,""),c=a==="href"?!K.validURL.test(u):K.notAllowedValues.test(u),p=a.startsWith("data")?!K.data.test(a):!!r[a];if(c||p){let x=_e(o.value||"none",60);x+=x.length===60?"...":"",t.removed[`${o.name}`]=`attribute/property/value not allowed, removed. Value: ${x}`,n.removeAttribute(o.name)}})}if(!(Mn(n)||n.constructor===CharacterData||n.constructor===Comment)){let r=(n?.outerHTML||n?.textContent).trim(),o=_e(r,60)??"EMPTY";o+=o.length===60?"...":"",t.removed[`<${n.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${o}`,n.remove()}}),Ln(t),e}function Fn(e){let t=document.createElement("div");return t.insertAdjacentHTML(E.end,e),t.childNodes.length?Ne(t):void 0}function kn(e,t,n){switch(!0){case g(e,Comment):return t.insertAdjacentHTML(n,`<!--${e.data}-->`);case g(e,Text):return t.insertAdjacentText(n,e.data||e.textContent);default:return}}function Se(e=[],t=document.body,n=E.BeforeEnd){return n=n||E.BeforeEnd,t=t?.isJQx?t.node:t||document.body,e.reduce((r,o)=>{let a=z(o)&&Zn(o,t,n);return a?[...r,a]:r},[])}function Zn(e,t=document.body,n=E.BeforeEnd){return n=n||E.BeforeEnd,t=t?.isJQx?t?.[0]:t,g(e,Comment,Text)?kn(e,t,n):g(e,HTMLElement)?t.insertAdjacentElement(n,e):void 0}function F(e){if(g(e,Text,Comment))return e;let t=e?.trim(),n=t?.split(/<text>|<\/text>/i)??[];if(n?.length&&(n=n.length>1?n.filter(o=>o.length).shift():void 0),t.startsWith("<!--")&&t.endsWith("-->"))return document.createComment(e.replace(/<!--|-->$/g,""));if(n||g(t,String)&&!/^<(.+)[^>]+>/m.test(t))return document.createTextNode(n??t);let r=Fn(e);return r.childNodes.length<1?F(`<span data-jqxcreationerror="1">${lt(e,60)}</span>`):r.children[0]}function zn(e){if(e.node("#jqxPopup"))return;e.logger.log("JQx: [JQx].Popup first call. Dialog element created."),e.dialog({id:"jqxPopup"},e.div({id:"jqxPopupContent"})).render,e.editCssRules(...nn);let t=[],[n,r]=[e("#jqxPopupContent"),e.node("#jqxPopup")],o={};return e.handle({type:"click, cancel",handlers:m,name:"genericPopupCloseHandler",capture:!0,about:"A generic handler for JQx popups"}),Object.freeze({show:a,remove:u,removeModal:d});function a(f){if(r.open)switch(!0){case c(f):return;default:return u(),setTimeout(()=>a(f),200)}o={...f};let{content:i}=o;return e.IS(i,String,HTMLElement)||i?.isJQx?p():!0}function u(){return o.modal?h(o.warnMessage):x()}function c(f){for(let[i,l]of Object.entries(o))if(l!==f[i])return!1;return!0}function p(){n.clear();let{content:f,modal:i,closeAfter:l}=o;i=e.IS(i,Boolean)?i:!1;let s=i?"":e.div({id:"closeHandleIcon"});n.append(s,e.IS(f,String)?e.div(f):f),r.showModal(),!i&&e.IS(l,Number)&&b(u,l)}function x(){if(r.close(o.returnValue),S(),e.IS(o.callback,Function))return t.push(setTimeout(()=>o.callback(o.returnValue),200));o={}}function S(){t.forEach(f=>clearTimeout(f)),t=[]}function d({callback:f,value:i}={}){o.returnValue=i,o.modal=!1,o.callback=f||o.callback,u()}function m({evt:f}){if(!(Object.keys(o).length<1||!r.open)&&(f.type==="cancel"&&o.modal&&f.preventDefault(),f.target.closest("#closeHandleIcon")||!f.target.closest("#jqxPopupContent")))return o.activeTimer&&clearTimeout(o.activeTimer),u()}function b(f,i){e.IS(f,Function)&&e.IS(i,Number)&&i>0&&(S(),t.push(setTimeout(f,i*1e3)))}function h(f){if(!e.IS(f,String,HTMLElement,Proxy))return;let i=n.find$(".warn");switch(!0){case i.is.empty:i=e.div({class:"warn"},f);default:n.append(i.addClass("active")),b(()=>n.find$(".warn").removeClass("active"),2)}}}function Hn(e){let t={},n="anonymous_";function r(S){if(S){let{handler:d,capture:m,type:b}=S;document.addEventListener(b,d,{capture:m})}}function o(S){if(S){let{type:d,handler:m,capture:b}=S;document.removeEventListener(d,m,{capture:b})}}function a(S,d,m,b){return function(h){if(!N(d))return S({evt:h});let f=h.target.closest(d);if(f){let i=e(f);S({self:i,me:i,evt:h}),m&&p(h.type,b)}return!0}}function u(S){return t[S]=t[S]||{},t[S]}function c(S,d){return Object.entries(u(S)).find(([m])=>m===d)}function p(S,d){let m=c(S,d);m&&(o(m[1]),delete t[S][d],delete xe[d],D.warn(`Removed listener [${d}] for event type [${S}].`))}function x(S){let{type:d,handler:m,name:b,capture:h,once:f,selector:i,node:l,about:s}=S;t[d]=t[d]||{};let y=Qn(b||m.name),v=m;if(l instanceof HTMLElement){let C=l.dataset.hid||y;l.dataset.hid=C,i=`[data-hid=${C}]`}switch(!0){case!t[d][y]:return D.log(`JQx: created listener for event type ${d}, with handler name ${y}`),t[d][y]={name:y,handler:a(m,i,f,y),capture:Un(d,h),once:!!f,type:d,initialHandler:v,selector:!!i&&i||!1,about:!!s&&s||!1,unListen(){p(d,y)}},t[d][y];default:return console.warn(`The listener [${y}] for [${d}] exists, it is not re-assigned.`)}}return{remove(...S){return p(...S)},listen:function(S){let{type:d,handler:m}=S;if(!N(d)||!g(m,Function))return;let b=x(S);if(b)return r(b),{type:d,name:b.name,unListen(){p(d,b.name)}}},get ListenerStore(){return Object.freeze({...t})}}}var D=qn(),Rn=["load","unload","scroll","focus","blur","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","loadstart","progress","error","abort","load","loadend","pointerenter","pointerleave","readystatechange"],E=Object.freeze(new Proxy({start:"afterbegin",afterbegin:"afterbegin",end:"beforeend",beforeend:"beforeend",before:"beforebegin",beforebegin:"beforebegin",after:"afterend",afterend:"afterend"},{get(e,t){return e[String(t).toLowerCase()]??e[t]}})),Wn=[...Array(26)].map((e,t)=>String.fromCharCode(t+65)).concat([...Array(26)].map((e,t)=>String.fromCharCode(t+97))).concat([...Array(10)].map((e,t)=>`${t}`)),Jn=Object.freeze({get(e,t){return e[De(t)]||e[t]},enumerable:!1,configurable:!1}),xe={};function Yn(){let e=setTimeout(()=>{});for(;e>=0;)clearTimeout(e--)}function Qn(e){return N(e)&&!/^handler|handlers$/gi.test(e.trim())?e.trim():it()}function Bn(e){let t=!!e.node&&!g(e,Text,Comment);switch(!0){case t:let n=e.node.dataset?Object.keys(e.node.dataset).map(o=>`[data-${o}]`):[],r=[e.attr("id")&&`#${e?.attr("id")}`||void 0,e.attr("class")&&e?.attr("class").split(" ").map(o=>`.${o}`).join(", ")||void 0,n.length>0&&n.join(", ")||void 0].filter(o=>!!o).join(", ")||[];return r.length?`(${r})`:"";default:return""}}function it(e){let t=`anonymous_${Math.random().toString(36).slice(2)}`;return xe[t]?it():(xe[t]=t,t)}function Un(e,t){return!!Rn.find(n=>n===e)||!!t}function at(e){return e.startsWith("data")||ge.html.find(t=>e.toLowerCase()===t)}function Ve(e){return e&&(e.textContent="")}function ve(e,t=0,n=!0){return e=e?.parentElement,t+=e?e[n?"scrollTop":"scrollLeft"]:0,e?ve(e,t,n):t}function N(e,t=1){return t=g(t,Number)&&t||1,g(e,String)&&e.length>=t}function _e(e,t=120){return lt(e,t).replace(/&lt;/g,"<")}function lt(e,t=120){return`${e}`.trim().slice(0,t).replace(/>\s+</g,"><").replace(/</g,"&lt;").replace(/\s{2,}/g," ").replace(/\n/g,"\\n")+(e.length>t?" &hellip;":"").trim()}function ne(e){switch(!0){case g(e,String):let t=document.createElement("div");return t.append(e),t.innerHTML;default:return e}}function de(e){return g(e,String)&&Object.assign(document.createElement("textarea"),{innerHTML:e}).textContent||e}function qn(){let[e,t]=[!1,!0],n=[],r={get on(){return e=!0,r},get off(){return e=!1,r},get disable(){return t=!0,r},get enable(){return t=!1,r},get backLog(){return n}};function o(){t=!0}function a(){t=!1}function u(...x){return n.unshift(...x.map(S=>`${ye()} \u2A3B ${de(S)}`)),console.error(n.slice(0,x.length).join(`
`)),r}function c(...x){return n.unshift(...x.map(S=>`${ye()} \u26A0 ${de(S)}`)),console.warn(n.slice(0,x.length).join(`
`)),r}function p(...x){let S=x.map(d=>`${ye()} \u2714 ${de(d)}`);switch(!t&&n.unshift(...S),e){case!0:console.log(S.join(`
`));default:return r}}return Object.defineProperties(r,{log:{value:p,enumerable:!1},error:{value:u,enumerable:!1},warn:{value:c,enumerable:!1}}),Object.freeze(r)}function ye(){return(e=>`[${ee(e.getHours())}:${ee(e.getMinutes())}:${ee(e.getSeconds())}.${ee(e.getMilliseconds(),3)}]`)(new Date)}function Vn(e,t){if(e)for(let[n,r]of Object.entries(t)){if(n=P(n),n.startsWith("data"))return ut(e,r);g(r,String)&&at(n)&&e.setAttribute(n,r.split(/[, ]/)?.join(" "))}}function ut(e,t){if(e&&g(t,Object))for(let[n,r]of Object.entries(t))e.setAttribute(`data-${P(n)}`,r)}function st(e){return e?g(e,Proxy)?[e.EL]:g(e,NodeList)?[...e]:z(e)?[e]:je(e)?e:e.isJQx?e.collection:void 0:[]}function Xe(e,t){return e.andThen(t)}function Ge(e,t){return e.andThen(t,!0)}function z(e){return g(e,Text,HTMLElement,Comment)}function pe(e,t){if(g(t,Object))for(let[n,r]of Object.entries(t)){let o;/!important/i.test(r)&&(r=r.slice(0,r.indexOf("!")).trim(),o="important"),e.style.setProperty(P(n),r,o)}}function k(e){let t=e.cloneNode(!0);return t.removeAttribute&&t.removeAttribute("id"),e.isConnected?e.remove():e=null,t}function _n(e){if(!g(e,HTMLElement))return;let t=e.style,n=getComputedStyle(e),r=!![t.visibility,n.visibility].includes("hidden"),o=!![t.display,n.display].includes("none"),a=!!e.hidden,u=parseInt(n.height)<1||parseInt(n.width)<1,c=e.offsetTop<0||e.offsetLeft+e.offsetWidth<0||e.offsetLeft>document.body.offsetWidth,p=+n.opacity==0||+(t.opacity||1)==0;return!(a||c||p||o||r||u)}function Xn(e){return e?.isConnected?!![...document.querySelectorAll(":is(:read-write)")].find(t=>t===e):!1}function Gn(e){return e?.filter(t=>t).reduce((t,n)=>t.concat(mt(n)?`<!--${n.data}-->`:Ce(n)?n.textContent:n.outerHTML),"")}function ee(e,t=2){return`${e}`.padStart(t,"0")}function Kn(e,t=0){return[e,t]=[Math.floor(e),Math.ceil(t)],Math.floor([...crypto.getRandomValues(new Uint32Array(1))].shift()/2**32*(e-t+1)+t)}function ct(){return`_${rr(Wn).slice(0,8).join("")}`}function er(e){return e=g(e,String)&&/,/.test(e)?e.split(",").map(t=>t.trim().toLowerCase()).filter(t=>t.length>0):e,g(e,Array)?e:g(e,String)&&e?.trim().toLowerCase()||""}function tr(e){return e?.isConnected?!![...document.querySelectorAll(":is(:modal)")].find(t=>t===e):!1}function nr(e,t){switch(e=String(e).trim(),!0){case/^(0|false|f)$/i.test(e):return!1;case/^(1|true|t)$/i.test(e):return!0;default:return t}}function rr(e){let t=e.length;for(;t--;){let n=Kn(t);[e[t],e[n]]=[e[n],e[t]]}return e}function De(e){return g(e,String)?e.toLowerCase().split("-").map((t,n)=>n&&`${or(t)}`||t).join(""):e}function P(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,"")}function or([e,...t]){return`${e.toUpperCase()}${t.join("")}`}function Ce(e){return g(e,Comment,Text)}function mt(e){g(e,Comment)}function ir(e){return g(e,Text)}function Ie(e){return g(e,String)&&/^<|>$/.test(`${e}`.trim())}function je(e){return g(e,Array)&&!e?.find(t=>!z(t))}function ft(e){return g(e,Array)&&!e?.find(t=>!Ie(t))}function T(e,t){let n=e.collection.filter(r=>!Ce(r));for(let r=0;r<n.length;r+=1)t(n[r],r);return e}function ar(e){return e.node?g(e.node,Comment)?`<!--${e.node.textContent}-->`:e.HTML.get(1).split(">")[0]+">...":""}function dt(e,t,n){let r=t!==document.body&&g(e,String)&&e.toLowerCase()!=="body"?t:document;try{n.collection=[...r.querySelectorAll(e)]}catch{D.warn(`JQx: Invalid CSS querySelector. [${g(e,String)?e:"Not a string!"}]`)}}function lr(){return{isCommentOrTextNode:Ce,isNode:z,isComment:mt,isText:ir,isHtmlString:Ie,isArrayOfHtmlElements:je,isArrayOfHtmlStrings:ft,ElemArray2HtmlString:Gn,input2Collection:st,setCollectionFromCssSelector:dt,cssRuleEdit:ot({createWithId:"JQxStylesheet"})}}function ur(){let e=Object.freeze({notInDOM:"n/a",writable:"n/a",modal:"n/a",empty:!0,open:"n/a",visible:"n/a"});return t=>{let n=t.node;return g(n,Node)?Object.freeze({get writable(){return Xn(n)},get modal(){return tr(n)},get inDOM(){return n.isConnected},get open(){return n.open??!1},get visible(){return _n(n)},get disabled(){return n.hasAttribute("readonly")||n.hasAttribute("disabled")},get empty(){return t.collection.length<1},get virtual(){return t.isVirtual}}):e}}function sr(e,t,n,r){n&&g(t,String)&&(t={[t]:n==="-"?"":n});let o;t.className&&(o=t.className,delete t.className),o=[...e.classList].find(a=>a.startsWith("JQxClass-")||o&&a===o)||o||`JQxClass-${ct().slice(1)}`,r.editCssRule(`.${o}`,t),e.classList.add(o)}var cr=ur();function mr(e){return{factoryExtensions:fr(e),instanceExtensions:dr(e)}}function fr(e){return{data(t){return{get all(){return new Proxy(t[0]?.dataset??{},Jn)},set(n={}){if(!t.is.empty&&g(n,Object))for(let[r,o]of Object.entries(n))t.setData({[r]:o});return t},get(n,r){return t.data.all[n]??r},add(n={}){if(!t.is.empty&&g(n,Object))for(let[r,o]of Object.entries(n))t.setData({[r]:o});return t},remove(n){return t[0]?.removeAttribute(`data-${P(n)}`),t}}},dimensions(t){if(t.is.empty)return D.error("[JQx instance].dimensions called on empty instance"),{error:"[JQx instance].dimensions: NO ELEMENTS"};let{node:n}=t,r=n.getBoundingClientRect().toJSON();return r.scrollTopDistance=ve(n,0),r.scrollLeftDistance=ve(n,0,!1),r},node(t){return t[0]},HTML(t){return{get(n,r){if(t.is.empty)return"NO ELEMENTS IN COLLECTION";let o=n?t.outerHtml:t.html();return r?ne(o):o},set(n,r=!1,o=!1){n=n.isJQx?n.HTML.get(1):n;let a=g(n,String);return n=a&&o?ne(n):n,a&&(n||"").trim().length&&t.html(n,r),t},replace(n,r=!1){return t.HTML.set(n,!1,r)},append(n,r=!1){return n=g(n,HTMLElement)?e(n).HTML.get(1):n.isJQx?n.HTML.get(1):n,t.HTML.set(n,!0,r)},insert(n,r=!1){return n=g(n,HTMLElement)?e(n).HTML.get(1):n.isJQx?n.HTML.get(1):n,t.HTML.set(n+t.HTML.get(),!1,r)}}},is(t){return cr(t)},length(t){return t.collection.length},outerHtml(t){return(t.first()||{outerHTML:void 0}).outerHTML},parent(t){let n=e(t[0]?.parentNode);return n.is.empty?t:n},render(t){switch(!0){case!t.is.empty:return t.toDOM();default:return e.logger.warn("[JQx.render]: empty collection"),t}},Style(t){return{get computed(){return t.is.empty?{}:getComputedStyle(t[0])},inline(n){return t.style(n)},inSheet(n){return t.css(n)},valueOf(n){return t.is.empty?void 0:getComputedStyle(t[0])[P(n)]},nwRule(n){return t.Style.byRule({rules:n})},byRule({classes2Apply:n=[],rules:r=[]}={}){let o=g(r,String)&&!n.length?r.split("{")[0].trim():"";if(r=r&&g(r,String)?[r]:r,n=n&&g(n,String)?[n]:n,(r?.length||n?.length)&&(r?.length&&e.editCssRules(...r),n))for(let a of n)t.addClass(a);return o?.startsWith(".")&&t.addClass(o.slice(1)),o?.startsWith("#")&&!t.attr("id")&&t.prop({id:o.slice(1)}),t}}}}}function dr(e){return{addClass(t,...n){return T(t,r=>r&&n.forEach(o=>r.classList.add(o)))},after:Xe,afterMe:Xe,andThen(t,n,r=!1){if(!n||!g(n,String,Node,Proxy))return D.log("[JQx instance].[before(Me) | after(Me) | andThen]: invalid/-sufficient input."),t;n=n?.isJQx?n:g(n,Node)?e.virtual(n):e.virtual(F(n));let[o,a,u]=r?[0,"before",n.collection.concat(t.collection)]:[t.collection.length-1,"after",t.collection.concat(n.collection)];return t[o][a](...n.collection),t.collection=u,t},append(t,...n){if(t.is.empty||n.length<1)return t;let r=t.length===1;for(let o of n){if(!o.isJQx&&N(o)){let a=o.trim(),u=/^<(.+)[^>]+>$/m.test(a)?F(o):e.text(o);T(t,c=>c.append(r?u:k(u)))}z(o)&&T(t,a=>a.append(r?o:k(o))),o.isJQx&&!o.is.empty&&T(t,a=>o.collection.forEach(u=>a.append(r?u:k(u))))}return t},appendTo(t,n){switch(!0){case(!n.isJQx&&!g(n,HTMLElement)):return $.warn("[JQx instance].appendTo: invalid input"),t;default:return(n.isJQx?n:e(n)).append(t),t}},attr(t,n,r){if(!t.node||g(t.node,Text,Comment))return t;if(!r&&N(n))return n=P(n),n==="class"?[...t.node.classList].join(" "):t.node.getAttribute(n);if(N(n)&&r)switch(n=P(n),!0){case n.startsWith("data-"):n={data:{[n.replace("data-","")]:r}};break;default:n={[n]:r}}return g(n,Object)&&!t.is.empty&&Vn(t.node,n),t},before:Ge,beforeMe:Ge,clear(t){return T(t,Ve)},closest(t,n){let r=N(n)?t.node?.closest(n):void 0;return r?e(r):t},computedStyle(t,n){let{node:r}=t;return r&&getComputedStyle(r)[n]},css(t,n,r){return T(t,o=>sr(o,n,r,e))},duplicate(t,n=!1,r=document.body){switch(!0){case t.is.empty:return D.error("Duplicating an empty JQx instance is not possible"),t;default:let o=t.collection[0].cloneNode(!0);return o.childNodes.forEach(a=>{a.removeAttribute&&a?.removeAttribute("id")}),n?e(o).toDOM(r):e.virtual(o)}},each(t,n){return T(t,n)},empty(t){return T(t,Ve)},find(t,n){return t.collection.length>0?[...t.first()?.querySelectorAll(n)]:[]},find$(t,n){return t.collection.length>0?e(n,t):t},first(t,n=!1){return t.collection.length>0?n?t.single():t.collection[0]:void 0},first$(t,n){return t.single(n)},getData(t,n,r){return t.node?.dataset?.[n]||r},hasClass(t,...n){return t.is.empty||!t.node.classList.length?!1:n.find(r=>t.node.classList.contains(r))&&!0||!1},hide(t){return T(t,n=>pe(n,{display:"none !important"}))},html(t,n,r){switch(!0){case(t.is.empty&&!N(n)):return"";case!N(n):return t.node?.getHTML()??"";default:let o=F(`<div>${n.isJQx?n.HTML.get(!0):n}</div>`);return T(t,a=>(a.textContent=r?a.textContent:"",a.insertAdjacentHTML(e.at.end,o.getHTML())))}},htmlFor(t,n,r="",o=!1){if(t.is.empty||!N(n)||!N(r))return t;let a=t.find$(n);if(a.length<1)return t;let u=F(`<span>${r}</span>`);return a.each(c=>{o||(c.textContent=""),c.insertAdjacentHTML(e.at.end,u?.getHTML())}),t},isEmpty(t){return!t.node},nth$(t,n){return t.single(n)},on(t,n,...r){switch(!0){case(t.is.empty||!g(n,String,Array)||!N(n)||r.length<1):return t;default:return e.handle({type:n,node:t.node,handler:r}),t}},once(t,n,...r){switch(!0){case(t.is.empty||!g(n,String,Array)||!N(n)||r.length<1):return t;default:return e.handle({type:n,once:!0,node:t.node,handler:r}),t}},prepend(t,...n){if(t.is.empty||!n)return;let r=t.length===1;for(let o of n){if(N(o)){o=o.trim();let a=/^<(.+)[^>]+>$/m.test(o)?F(o):e.text(o);a=r?a:k(a),T(t,u=>u.prepend(a.cloneNode(!0)))}z(o)&&T(t,a=>a.prepend(r?o:k(o))),o.isJQx&&!o.is.empty&&(o.collection.length>1&&o.collection.reverse(),T(t,a=>T(o,u=>a.prepend(r?u:k(u)))),o.collection.reverse())}return t},prependTo(t,n){return n.isJQx||(n=e.virtual(n)),n.prepend(t),t},prop(t,n,r){if(g(n,String)&&!r)return n.startsWith("data")?t[0]?.dataset[n.slice(n.indexOf("-")+1)]:t[0]?.[n];let o=g(n,Object)?n:{[n]:r};for(let[a,u]of Object.entries(o)){if(a=a.trim(),u&&!at(a)||!u)return!1;if(a.toLowerCase()==="id")return t[0].id=u;T(t,c=>{if(a.startsWith("data"))return c.dataset[a.slice(a.indexOf("-")+1)]=u;c[a]=u})}return t},remove(t,n){let r=a=>a.remove(),o=()=>t.collection=t.collection.filter(a=>document.documentElement.contains(a));if(n){let a=t.find$(n);return a.is.empty||(T(a,r),o()),t}return T(t,r),o(),t},rmAttr(t,...n){for(let r of n)t.node.removeAttribute(r);return t},removeClass(t,...n){return T(t,r=>{if(r)for(let o of n)r.classList.remove(o)})},renderTo(t,n,r){return n=g(n,HTMLElement)||n.isJQx?n:document.body,r=g(r,String)&&e.at[r]?r:e.at.end,t.first$().toDOM(n,r),t},replace(t,n,r){let o=t.node;return!n||!g(r,HTMLElement)&&!r?.isJQx?(e.logger.error("JQx replace: invalid replacement value"),t):((r.isJQx||g(r,NodeList))&&(r=r[0]),o&&n&&(n=g(n,String)?o.querySelectorAll(n):n.isJQx?n.collection:n,g(n,HTMLElement,NodeList,Array)&&g(r,HTMLElement)&&(g(n,HTMLElement)?[n]:[...n]).forEach(a=>a.replaceWith(r.cloneNode(!0)))),t)},replaceClass(t,n,...r){return T(t,o=>{o.classList.remove(n);for(let a of r)o.classList.add(a)})},replaceMe(t,n){return t.replaceWith(n)},replaceWith(t,n){return n=g(n,Element)?n:n.isJQx?n[0]:void 0,n&&(t[0].replaceWith(n),t=e.virtual(n)),t},setData(t,n){return T(t,r=>ut(r,n))},show(t){return T(t,n=>pe(n,{display:"revert-layer !important"}))},single(t,n){let r=t.collection.length>0;switch(n=n??0,!0){case(r&&g(n,String)):return t.find$(n);case(r&&g(n,Number)):return e(t.collection[n]);case r:return t.collection[0];default:return t}},style(t,n,r){return T(t,o=>{r&&g(n,String)&&(n={[n]:r||"none"}),pe(o,n)})},text(t,n,r=!1){switch(!0){case t.isEmpty():return t;case!g(n,String):return t.node.textContent;default:return T(t,o=>o.textContent=r?o.textContent+n:n)}},toDOM(t,n=document.body,r=E.BeforeEnd){return t.isVirtual=!1,Se(t.collection,n,r),t},toggleClass(t,n){return T(t,r=>r.classList.toggle(n))},toNodeList(t){return[...t.collection].map(n=>document.importNode(n,!0))},trigger(t,n,r,o){r=g(r,Function)?r:Event,o=g(o,Object)?{...o,bubbles:o.bubbles??!0}:{bubbles:!0};let a=new r(n,o);return t.is.empty||t.each(u=>u.dispatchEvent(a)),t},val(t,n){switch(!0){case(t.is.empty||!g(t.node,HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement)):return t;case!g(n,String):return t.node.value;default:return t.node.value=g(n,String)?n:"",t}}}}var Te,re,{isComment:Zo,isText:zo,isHtmlString:Ho,isArrayOfHtmlElements:Ro,isArrayOfHtmlStrings:Wo,ElemArray2HtmlString:Jo,cssRuleEdit:we,addFn:yr}=pr();function pr(){return{...lr(),addFn:gr}}function gr(e,t){return e=e?.trim(),!N(e)||!g(t,Function)?D.error("JQx.fn: method invalid parameter(s)"):re[e]=(n,...r)=>t(n,...r)}function hr(e){return function(t,n,r){if(t=t?.trim(),!N(t)||!g(n,Function))return e.error("JQx.staticFn: invalid parameter(s)");let o=r?{get(){return n()}}:{value(...a){return n(...a)}};try{Object.defineProperty(e,t,o)}catch{return e.warn(`JQx.staticFn: extension [${t}] already exists`)}return D.log(`JQx: added static extension function [${t}]`)}}function te(e){return new Proxy(e,Object.freeze({get:(t,n)=>br(t,n,e)}))}function Ke(e,t){return(...n)=>g(e,Function)&&e(te(t),...n)}function br(e,t,n){switch(!0){case g(t,Symbol):return q({trial:()=>e[t],whenError:()=>e});case g(+t,Number):return e.collection?.[t]||void 0;case t in Te:return Ke(Te[t],n)();case t in re:return Ke(re[t],n);default:return e[t]}}function Sr(e){let t=$r(e);for(let[n,r]of Object.entries(Object.getOwnPropertyDescriptors(t)))Object.defineProperty(e,n,r);return e}function xr(e){return{allow(t){let n=/-/.test(t),r=n&&t;t=n?De(t):t.toLowerCase(),_.allowTag(t),Object.defineProperties(e,$e(t,!0,e,r))},prohibit(t){t=t.toLowerCase(),_.prohibitTag(t),Object.defineProperties(e,$e(t,!1,e))}}}function et(...e){if(e.length===1){let t=String(e.shift().trim());e=t.startsWith("!")?[t.slice(1,-1)]:t.split(",").map(n=>n.trim())}for(let t of e.map(n=>n.startsWith("!")?n.slice(1,-1):n))we(t,{removeRule:1})}function vr(e){return function(t,n,r){n=n?.isJQx?n?.[0]:n,r=r&&Object.values(E).find(a=>r===a);let o=e(t,document.createElement("br"));if(n&&!g(n,HTMLBRElement))for(let a of o.collection)r?n.insertAdjacentElement(r,a):n.append(a);return o}}function Tr(...e){let t={};for(let n of e){let r=Object.getOwnPropertyDescriptors(n);for(let[o,a]of Object.entries(r))!(o in t)&&Object.defineProperty(t,o,{...a,enumerable:!1})}return t}function wr(e,t,n,r){return e=P(r||e.toLowerCase()),{get(){return(...o)=>{let a=t&&n.virtual(Ne(ln[e](...o)))||void 0,u=g(a?.node,Comment,Text,void 0)?"":Bn(a);return D.log(t?`JQx: created (virtual) instance from [JQx].${e} ${u}`:`JQx: ${e.toUpperCase()} is prohibited. Use [JQx].allowTag if necessary.`),a}},enumerable:!1,configurable:!0}}function $e(e,t,n,r){e=e.toLowerCase();let o=wr(e,t,n,r);return r?{[r]:o,[De(r)]:o}:{[e]:o,[e.toUpperCase()]:o}}function $r(e){return Tr(Object.entries(_.tagsRaw).reduce(Or(e),{}),Er(e))}function Or(e){return function(t,[n,r]){return Object.defineProperties(t,$e(n,r,e)),t}}function Nr(e){return function(t,n,...r){g(n,Function)&&(r.push(n),n=void 0),e({type:t,selector:n,handlers:r})}}function Dr(e){return function(t){let{type:n,types:r,origin:o,selector:a,handler:u,handlers:c,node:p,name:x,capture:S,once:d,about:m}=t;u=c||u,n=r||n,a=o||a;let b=er(n),h=x;u=g(u,Function)?[u]:u;let f={type:b,selector:a||o,capture:S,name:h,once:d,node:p,about:m};switch(!0){case(g(b,Array)&&b.length>0):for(let i of b)f.type=i,tt(u,f,e);break;default:return tt(u,f,e)}}}function tt(e,t,n){for(let r of e)n.listen({...t,handler:r})}function Cr(e){return function(t,n){return n=N(n)&&n,t=N(t)&&t,n&&t&&e.listenerStore[t][n]}}function Ir(e){return e.activePopup||Object.defineProperty(e,"activePopup",{value:zn(e),enumerable:!1}),e.activePopup}function jr(e){let t=(c,p)=>we(c,p),n=function(c){return ot({createWithId:c||`jqx${ct()}`})},r=function(...c){for(let p of c)we(p)},o=xr(e),a=Hn(e),u=Dr(a);return{editCssRule:t,createStyle:n,editCssRules:r,allowProhibit:o,handle:u,capturedHandling:u,log:(...c)=>D.on.log(...c).off,warn:(...c)=>D.on.warn(...c).off,error:(...c)=>D.on.error(...c).off,handlerWrapper:a}}function Er(e){let{factoryExtensions:t,instanceExtensions:n}=mr(e);Te=t,re=n;let{editCssRule:r,createStyle:o,editCssRules:a,allowProhibit:u,handle:c,capturedHandling:p,log:x,warn:S,error:d,handlerWrapper:m}=jr(e),b=Cr(e),h=hr(e);return{log:x,warn:S,error:d,editCssRules:a,createStyle:o,editStylesheet:o,editCssRule:r,escHtml:ne,logger:D,text(f,i=!1){return i?e.comment(f):document.createTextNode(f)},node(f,i=document){return i.querySelector(f,i)},nodes(f,i=document){return[...i.querySelectorAll(f,i)]},clearAllTimers:Yn,get staticFn(){return function(f,i,l){return h(f,i,l)}},get toBool(){return nr},get getNamedListener(){return b},get virtual(){return vr(e)},get allowTag(){return u.allow},get prohibitTag(){return u.prohibit},get removeCssRule(){return et},get removeCssRules(){return et},get delegate(){return Nr(p)},get delegateCaptured(){return p},get handle(){return p},get listen(){return m.listen},get at(){return E},get setStyle(){return r},get fn(){return yr},get lenient(){return _.allowUnknownHtmlTags},get IS(){return g},get Popup(){return Ir(e)},get listenerStore(){return m.ListenerStore}}}var Ar=Sr(Pr());function Pr(){return function(e,t,n=E.BeforeEnd){if(e?.isJQx)return e;let r=g(t,HTMLBRElement);t=(!r&&t&&t.isJQx?t[0]:t)||document.body,n=n&&Object.values(E).find(p=>n===p)?n:void 0;let o=Ie(e),a=!o&&ft(e)||o,u={collection:st(e)??[],isVirtual:r,isJQx:!0},c=je(u.collection);if(u.collection.length&&c)return r||u.collection.forEach(p=>{t.contains(p)||Se([p],t,n)}),te(u);if(a){if([e].flat().forEach(p=>u.collection.push(F(p))),u.collection.length>0){let p=u.collection.filter(d=>d?.dataset?.jqxcreationerror);u.collection=u.collection.filter(d=>!d?.dataset?.jqxcreationerror);let x=u.collection.map(d=>`${String(d.constructor).split(/function|\(/)[1].trim()}`).length>1;u=te(u);let S=u.collection.length>0?ar(u):"sanitized: no elements remaining";D.log(`JQx: created ${u.isVirtual?"(virtual)":""} instance from ${x?"array of ":""}HTML string${x?"s":""} ${S}`),u.isVirtual||Se(u.collection,t,n)}return u}return dt(e,t,u),te(u)}}var L=Ar;var[H,R,Ae,Pe]=["2-digit","numeric","long","short"],oe={fixed:{MM:{month:Ae},M:{month:Pe},m:{month:R},mm:{month:H},yyyy:{year:R},yy:{year:H},WD:{weekday:Ae},wd:{weekday:Pe},d:{day:R},dd:{day:H},h:{hour:R},hh:{hour:H},mi:{minute:R},mmi:{minute:H},s:{second:R},ss:{second:H},ms:{fractionalSecondDigits:3},tz:{timeZoneName:"shortOffset"},dl:{locale:"default"},h12:{hour12:!1},yn:{yearName:""},ry:{relatedYear:!0},msp:{fractionalSecond:!0}},dynamic:{tzn:e=>({timeZoneName:e.slice(4)}),hrc:e=>({hourCycle:`h${e.slice(4)}`}),ds:e=>({dateStyle:e.slice(3)}),ts:e=>({timeStyle:e.slice(3)}),tz:e=>({timeZone:e.slice(3)}),e:e=>({era:e.slice(2)}),l:e=>({locale:e.slice(2)})}},J={...oe,retrieveDynamic(e){let t=e?.slice(0,e?.indexOf(":"));return oe.dynamic[t]&&oe.dynamic[t](e)},get re(){return new RegExp(`\\b(${Object.keys(oe.fixed).join("|")})\\b`,"g")}},se=Lr;function Lr(e,t,n="l:default"){return/ds:|ts:/.test(n)?Mr(e,yt(void 0),n):kr(e,yt(t||void 0),n)}function yt(e="dtf"){let t=` ${e.replace(/[{}]/g,"").trim()} `,n=e.match(/(?<=\{)(.+?)(?=})/g)||[];return{set formatStr(r){t=r},get formatStr(){return t},get units(){return t.match(J.re)||[]},finalize(r="",o="",a="",u=""){return t.replace(/~([\d+]?)/g,"$1").replace(/dtf/,r).replace(/era/,a).replace(/dp\b|~dp\b/,o).replace(/yn\b/,u).replace(/\[(\d+?)]/g,(c,p)=>n[p].trim()).trim()}}}function jt(...e){return e?.reduce((t,n)=>({...t,...J.retrieveDynamic(n)||J.fixed[n]}),J.fixed.dl)}function Mr(e,t,n){let r=jt(...Et(n).split(",")),o=Intl.DateTimeFormat(r.locale,r).format(e);return t.finalize(o)}function Fr(e,t){return e==="numeric"&&t.startsWith("0")?t.slice(1):t}function kr(e,t,n){let r=jt(...t.units.concat(Et(n).split(",")).flat()),o={...J.fixed},a=Intl.DateTimeFormat(r.locale,r).formatToParts(e).reduce((u,c)=>c.type==="literal"&&/[ ,/-]/.test(c.value)?u:{...u,[c.type]:Fr(r[c.type],c.value)},{});return o.ms=r.fractionalSecondDigits?o.msp:o.ms,o.yyyy=a.relatedYear?o.ry:o.yyyy,t.formatStr=t.formatStr.replace(J.re,u=>/^(M|MM)$/.test(u)?Zr(e,r.locale,r.timeZone,/^M$/.test(u)):a[Object.keys(o[u]).shift()]||u),t.finalize(void 0,a.dayPeriod,a.era,a.yearName)}function Zr(e,t,n,r){return e.toLocaleString(t,{timeZone:n,month:r?Pe:Ae})}function Et(e){return e.replace(/\s+/g,"")}var zr=Hr;function Hr(){let e=(r,o)=>{let a=isNaN(new Date(r)),u=isNaN(new Date(o));if(u){let[c,p,x]=Array(3).fill("end date not valid");return{error:!0,message:c,full:p,clean:x}}if(a){let[c,p,x]=Array(3).fill("start date not valid");return{error:!0,message:c,full:p,clean:x}}if(a&&!u){let[c,p,x]=Array(3).fill("start- and/or end date are not valid");return{error:!0,message:c,full:p,clean:x}}return{error:!1}},t=n();return function({start:r,end:o,diffs:a={}}={}){let u=e(r,o),c=o>r?"+":"-";if(u.error)return u;let p=Math.abs(r-o),x=new Date(p),S=x.getUTCFullYear()-1970,d=x.getUTCMonth(),m=x.getUTCDate()-1,b=m%7,h=Math.floor(m/7),f=x.getUTCHours(),i=x.getUTCMinutes(),l=x.getUTCSeconds(),s=x.getUTCMilliseconds(),y=Math.floor(p/864e5);a={...a,fromUTC:r,toUTC:o,sign:"",years:S,months:d,days:m,hours:f,minutes:i,seconds:l,milliseconds:s,diffInDays:y},a.full=t({values:a,full:!0}),a.clean=t({values:a}),a.equalDates=a.clean==="Dates are equal";let v=f+i+l>0?"T":"";return a.clean!=="Dates are equal"&&(a.sign=c,a.jsPeriod=`${c}P${S>0?`${S}Y`:""}${d>0?`${d}M`:""}${h>0?`${h}W`:""}${b>0?`${b}D`:""}${v}${f>0?`${f}H`:""}${i>0?`${i}M`:""}${l>0?`${l}S`:""}`,a.ISOPeriod=`P${S>0?`${S}Y`:""}${d>0?`${d}M`:""}${m>0?`${m}D`:""}${v}${f>0?`${f}H`:""}${i>0?`${i}M`:""}${l>0?`${l}S`:""}`),a};function n(){let r=(...a)=>u=>a.reduce((c,p)=>p(c),u),o=(a,u)=>a===1?u.slice(0,-1):u;return r(({values:a,full:u})=>[Object.entries(a).filter(([c])=>/^(years|month|days|hours|minutes|seconds)/i.test(c)),u],([a,u])=>u?a:a.filter(([,c])=>u?+c:c>0),a=>a.reduce((u,[c,p])=>[...u,`${p} ${o(p,c)}`],[]),a=>a.length<1?"Dates are equal":`${a.slice(0,-1).join(", ")}${a.length>1?" and ":""}${a.slice(-1).shift()}`)}}var Rr=Wr;function Wr(){let e=Object.entries({year:"FullYear",month:"Month",date:"Date",day:"Date",hour:"Hours",minute:"Minutes",second:"Seconds",millisecond:"Milliseconds"}).reduce((r,[o,a])=>({...r,[o]:a,[`${o}s`]:a}),{}),t=!1,n=function(...r){let o=r.length===1;return t=r[0].trim().startsWith("subtract,"),t&&(r=o?r[0].trim().replace(/^subtract,/i,"").split(",").map(a=>a.trim()):r.filter(a=>!a.startsWith("subtract"))),o&&!t&&(r=r[0].split(",").map(a=>a.trim())),r.map(function(a){if(!a)return!1;let u=a.toLowerCase().split(/ {1,}/);return u.length<2?!1:u.map(c=>{c=`${c}`.trim().replace(/[^a-z0-9-+]/g,"");let p=parseInt(c,10);return Number.isNaN(p)?c:t?-p:+p})}).filter(a=>a)};return function(r,...o){if(o.length<1)return r;let a=n(...o);return a.length&&a.forEach(([u,c])=>{c=c,c=e[c],u&&c&&r[`set${c}`](r[`get${c}`]()+u)}),r}}var At=zr(),Pt=Kr(),A=Rr(),Jr=["sun","mon","tue","wed","thu","fri","sat"],Lt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function pt(e,...t){return A(e,...t),e}function Yr(e,t=!1){let n=Mt(e.clone,{sunday:t}),r=[n];return{weekStart:n.format("WD","l:en-GB"),inputDate:e,dates:r.concat([...Array(6)].map((o,a)=>n.clone.addDays(a+1)))}}function Ee(e,{start:t,end:n,future:r,past:o,include:a={start:!1,end:!1}}={}){let u=e.clone.UTC;return t=t?.value||t?.constructor===Date?w(t?.value||t).UTC:w.now.UTC,n=n&&n?.value||n?.constructor===Date?w(n?.value||n).UTC:w.now.UTC,u.milliseconds=0,t.milliseconds=0,n.milliseconds=0,r?t>n:o?t<n:(a.start?+u>=+t:+u>+t)&&(a.end?+u<=+n:+u<+n)}function gt(e,{zoneTime:t=!1,formatStr:n,moreOptions:r}={}){return r=t?e.localeInfo.formatOptions+(r?`,${r}`:""):O.formatOptions+(r?`,${r}`:""),t?(e.localeInfo||(e.localeInfo=O),se(e,n,r)):Qr(e,n,r)}function Qr(e,t,n){let r=e.clone.relocate(O);return n=(n||"").startsWith("+")?`${r.localeInfo.formatOptions},${n.slice(1)}`:n||r.localeInfo.formatOptions,se(r,t,n)}function Br(e,t){let n=At({start:e,end:t||e});return parseInt(`${n.sign}${n.diffInDays}`)}function ht(e,t=!1){let{locale:n,timeZone:r}=t?e.localeInfo:O,o=Ut(n,r),a=e.format("MM|WD",o).split("|");return{locale:n,timeZone:r,monthName:a[0],dayName:a[1],dayNames:Qt(n),monthNames:Ze(n)}}function bt(e,t=!1){let[n,r,o,a]=Le(e,t),u={values4Timezone:t?O.timeZone:e.timeZone,hours:n,minutes:r,seconds:o,milliseconds:a};return Object.freeze(u)}function Le(e,t=!1){let n=`l:en-CA,${t?`tz:${O.timeZone}`:`tz:${e.timeZone}`},hrc:23,ts:medium`;return e.format("",n).split(/:/).map(Number).concat(e.getMilliseconds())}function St(e,t){let n=t?`tz:${O.timeZone}`:`,tz:${e.timeZone}`,[r,o,a]=e.format("yyyy-mm-dd",n).split(/-/).map(Number);o-=1;let u=t?O.timeZone:e.timeZone;return Object.freeze({values4Timezone:u,year:r,month:o,date:a})}function xt(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate()];let n=e.format("yyyy-m-d",e.localeInfo.formatOptions).split(/-/).map(Number);return n[1]-=1,n}function Ur(e){let t=new Intl.Locale(e.localeInfo.locale),n=t.getWeekInfo&&t.getWeekInfo().firstDay||1;return n=n===7?0:n,Lt[n]}function Mt(e,{sunday:t=!1}={}){let n=t?"sunday":Ur(e);return Me(e,{day:n,preserveTodayWhenEqual:!0})}function qr(e,t){let n=e.toString().match(/GMT([+-])\d+/)?.[0]?.slice(3)??"+0000",r=t.toString().match(/GMT([+-])\d+/)?.[0]?.slice(3)??"+0000";return n=Fe(n.slice(0,3)+":"+n.slice(-2),!0),r=Fe(r.slice(0,3)+":"+r.slice(-2),!0),[-n[0]+r[0],-n[1]+r[1]].map(o=>n[0]<0?-o:o)}function Ft({start:e,end:t}={}){t||(t=e.clone),t?.clone||(t=w(t,{timeZone:e.timeZone})),e=w($t(e,e.timeZone),{timeZone:e.timeZone}),t=w($t(t,t.timeZone),{timeZone:t.timeZone});let n=At({start:e,end:t,diffs:{timeZoneStart:e.timeZone,timeZoneEnd:t.timeZone}}),r=qr(t,e),o=n.sign.startsWith("-")?"ahead of":"behind",[a,u]=r.map(x=>Math.abs(x)),[c,p]=[`${a} ${ce(a,"hour")}`,`${u} ${ce(u,"minute")}`];return n.timeZonesOffsetDifference=n.sign.length<1||a+u===0?`Offsets of ${e.timeZone} and ${t.timeZone} are equal`:`${e.timeZone} is ${c}${u>0?` and ${p}`:""} ${o} ${t.timeZone}`,n}function vt(e,t){t=String(t).toLowerCase()==="utc"||t.timeZone==="UTC"?e.clone.relocate({timeZone:"UTC"}):w(e.value,{timeZone:t.timeZone||O.timeZone});let n=Ft({start:e.clone,end:t}),r=`${n.sign}${Tt(n.hours)}:${Tt(n.minutes)}`;return{fromTZ:e.timeZone,toTZ:t.timeZone,offset:r,offsetText:`${t.timeZone} ${Vr(r)} ${e.timeZone}`}}function Tt(e,t=2){return`${e}`.padStart(t,"0")}function ce(e,t){return`${t}${e>1||e===0?"s":""}`}function Vr(e){if(/00:00/.test(e))return"no time diffence to";let t=e.slice(1).split(":").map(Number),[n,r]=t,o=ce(n,"hour"),a=ce(r,"minute"),u=e.startsWith("+");return r>0?`${n} ${o} and ${r} ${a} ${u?"ahead of":"behind"}`:`${n} ${o} ${u?"ahead of":"behind"}`}function wt(e,t,n){return e.clone.format(t,n||e.localeInfo.formatOptions)}function _r(e,{withFormat:t,withFormatOptions:n,local:r=!1}={}){if(t)return r?wt(e,t,$D.localeInformation.formatOptions):wt(e,t,n);let o=e.clone.relocate({locale:"en"}),a=r?O.formatOptions:o.localeInfo.formatOptions,u=`wd M dd yyyy hh:mmi:ss ${o.format("tz",a+",tzn:longOffset").replace(":","")} (tz)`;return o.format(u,a+",tzn:long, hrc:23")}function kt(e,t=!1){let n=Intl.DateTimeFormat("en",{timeZone:t?e.timeZone:O.timeZone,weekday:"short"});return Pt(n.format(e))}function Xr(e){let t=O,n=e.localeInfo,r=e.clone.relocate({locale:t.locale,timeZone:t.timeZone}),o=e.offsetFrom(r),a=r.offsetFrom(e),u=t,c=n,p=e.format("hh:mmi:ss dp",`hrc:12,tz:${e.timeZone}`),x=r.format("hh:mmi:ss dp",`hrc:12,tz:${r.timeZone}`),S={note:"'user' are values for your locale/timeZone, 'remote' (if applicable) idem for the instance",locales:{user:{locale:u.locale,timeZone:u.timeZone}},dateTime:{user:{...e.dateTime,monthName:r.monthName,weekdayNr:r.day,weekdayName:r.dayName,dayPeriodTime:x,hasDST:r.hasDST,DSTActive:r.DSTActive,offsetFromRemote:o.offset,string:r.toString()}},offset:{fromUTC:e.UTC.offsetFrom(e).offsetText}};return n.timeZone!==t.timeZone&&(S.locales.remote={locale:c.locale,timeZone:c.timeZone},S.dateTime.remote={...e.zoneDateTime,monthName:e.zoneNames.monthName,weekdayNr:kt(e,!0),weekdayName:e.zoneNames.dayName,dayPeriodTime:p,hasDST:e.hasDST,DSTActive:e.DSTActive,offsetFromUser:a.offset,string:e.toString()},S.offset.fromUserTime=a.offsetText),S}function ie(e,t=!0){if(t)return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];let n=e.format("yyyy-m-d-hh-mmi-ss",`${e.localeInfo.formatOptions},hrc23:true`).split(/-/).map(Number).concat(e.getMilliseconds());return n[1]-=1,n}function Zt(e){return new Date(e.year,e.month+1,0,0,0,0).getDate()}function zt(e,t){t=I({locale:t||e.localeInfo.locale}).locale;let n=e.clone.relocate({locale:t});return n.date={date:1},[n].concat([...Array(Zt(n)-1)].map((r,o)=>n.clone.add(`${o+1} days`)))}function Me(e,{day:t,next:n=!1,preserveTodayWhenEqual:r=!1}={}){t=t?.toLowerCase()||"-";let o=Pt(t);if(o<0)return console.error(`[TickTock instance].next/previous invalid day value ${t}`),e.clone;let a=n?1:-1,u=w(new Date(...e.dateTimeValues),e.localeInfo);return r&&o===u.day?u:Gr(u.addDays(n?1:-1),o,a)}function Gr(e,t,n){function r(o){switch(!0){case o.day===t:return o;default:return r(o.add(`${n} days`))}}return r(e)}function ae(e,{dateOnly:t=!1,timeOnly:n=!1}={}){let{locale:r,timeZone:o}=e.localeInfo;return t?new Date(e).toLocaleDateString(r,{timeZone:o}):n?new Date(e).toLocaleTimeString(r,{timeZone:o}):new Date(e).toLocaleString(r,{timeZone:o})}function $t(e,t){let n={timeZone:t,hourCycle:"h23"};return new Date(new Date(e).toLocaleString("en",n))}function X(e,{year:t,month:n,date:r}={}){return j(t)&&e.setFullYear(parseInt(t)),j(r)&&e.setDate(parseInt(r)),j(n)&&e.setMonth(parseInt(n)),e}function W(e,{hours:t,minutes:n,seconds:r,milliseconds:o}={}){return j(t)&&e.setHours(parseInt(t)),j(n)&&e.setMinutes(parseInt(n)),j(r)&&e.setSeconds(parseInt(r)),j(o)&&e.setMilliseconds(parseInt(o)),e}function Ht(e){return e?.constructor===Date||e?.value}function Ot(e,t){return Ht(t)?w(t?.value||t,e.localeInfo):w.from(...e.dateTimeValues).relocate(e.localeInfo)}function Kr(){return function(e){e=`${e}`.toLowerCase();let t=Jr.indexOf(e);return t<0?Lt.indexOf(e):t}}function Fe(e){let t=e.slice(1).split(/[-:]/).map(Number),n=e.startsWith("-");return t=t.map(r=>n?-r:r),t}function eo(e){return e.time={hours:0,minutes:0,seconds:0,milliseconds:0},e}function Nt(e,t){return Intl.DateTimeFormat("en-CA",{timeZone:t,timeZoneName:"long"}).format(e).split(/,/)[1].trim()}function Rt(e,t){t=t||e?.timeZone||O.timeZone,e=e?.value?e:e?.constructor===Date?w(e,{timeZone:t}):w({timeZone:t});let n=e.year||e.getFullYear(),r=Nt(new Date(n,0,1),t),o=Nt(new Date(n,5,1),t);return r!==o}function Wt(e,t){return t=t||e?.timeZone||O.timeZone,e=e?.hasDST?e:e?.constructor===Date?w(e,{timeZone:t}):w({timeZone:t}),e.hasDST?!/standard/i.test(e.toString()):!1}function to(e,{locale:t,timeZone:n,l:r,tz:o}={}){return e.localeInfo=I({locale:r||t||e.l||e.locale,timeZone:o||n||e.tz||e.timeZone}),e}function no(e,t){return Ht(t)&&(e=w(t.value||t,t.localeInfo||e.localeInfo)),e}function ke(e,t){let n=Jt(new Date(e,11,t||31));return n===1?ke(e,(t||31)-1):n}function Dt(e,t){let n=e.month;switch(!0){case n<3:return t?1:"First";case n<6:return t?2:"Second";case n<9:return t?3:"Third";case n<12:return t?4:"Fourth";default:return"unknown"}}function Jt(e){let t=new Date(e),n=(t.getDay()+6)%7;t.setDate(t.getDate()-n+3);let r=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((r-t)/6048e5)}var Yt=ro;function ro({localeInfo:e,customMethods:t,dateValue:n}={}){let r,o={add(...a){return pt(r,...a)},between({start:a,end:u,include:c}={}){return Ee(r,{start:a,end:u,include:c})},cloneWith(a){return Ot(r,a)},daysUntil(a){return Br(r,a)},differenceTo(a){return Ft({start:r,end:a})},differenceUntil(a){return r.differenceTo(a).clean},firstWeekday({sunday:a=!1,midnight:u=!1}={}){return Mt(r,{sunday:a,midnight:u})},format(a,u){return gt(r,{formatStr:a,moreOptions:u})},fullMonth(a){return zt(r,a)},fullWeek(a=!1){return Yr(r,!!a)},isFuture(a){return Ee(r,{start:r,end:a,future:!0})},isPast(a){return Ee(r,{start:r,end:a,past:!0})},next(a,u){return Me(r,{day:a,next:!0,preserveTodayWhenEqual:!!u})},offsetFrom(a){return vt(r,a)},previous(a,u){return Me(r,{day:a,next:!1,preserveTodayWhenEqual:!!u})},relocate({locale:a,timeZone:u,l:c,tz:p}={}){return to(r,{locale:a,timeZone:u,l:c,tz:p})},revalue(a){return r=no(r,a),r},setDateValues({year:a,month:u,date:c}={}){return X(r,{year:a,month:u,date:c})},setTimeValues({hours:a,minutes:u,seconds:c,milliseconds:p}={}){return W(r,{hours:a,minutes:u,seconds:c,milliseconds:p})},subtract(...a){return pt(r,"subtract,"+a.join(","))},toArray(a=!1){return ie(r,a)},toString({template:a,formatOptions:u,local:c}={}){return _r(r,{withFormat:a,withFormatOptions:u,local:c})},values(a=!1){return a?r.dateTime:r.zoneDateTime},zoneFormat(a,u){return gt(r,{zoneTime:!0,formatStr:a,moreOptions:u})},set date({year:a,month:u,date:c}){X(r,{year:a,month:u,date:c})},set dateNr(a){X(r,{date:a})},set hours(a){W(r,{hours:a})},set localeInfo({locale:a,timeZone:u,l:c,tz:p}){e=le({locale:a,timeZone:u,l:c,tz:p})},set milliseconds(a){W(r,{milliseconds:`${a}`})},set minutes(a){W(r,{minutes:a})},set month(a){X(r,{month:a})},set seconds(a){W(r,{seconds:a})},set time({hours:a,minutes:u,seconds:c,milliseconds:p}){W(r,{hours:a,minutes:u,seconds:c,milliseconds:p})},set year(a){X(r,{year:a})},get age(){return r.differenceTo(new Date).years},get ageFull(){return r.differenceTo(new Date).clean},get clone(){return Ot(r)},get date(){return St(r,!0)},get dateNr(){return r.date.date},get dateTime(){return{...r.date,...r.time}},get dateTimeValues(){return ie(r,!0)},get dateValues(){return xt(r,!0)},get day(){return r.getDay()},get dayName(){return r.names.dayName},get daysThisMonth(){return Zt(r)},get DSTActive(){return Wt(r)},get hasDST(){return Rt(r)},get hours(){return r.time.hours},get info(){return Xr(r)},get isLeapYear(){return new Date(r.getFullYear(),2,0).getDate()===29},get ISO(){return r.toISOString()},get local(){return ae(r)},get localDate(){return ae(r,{dateOnly:!0})},get locale(){return(e||le()).locale},get localeInfo(){return e},get localeString(){return ae(r)},get localTime(){return ae(r,{timeOnly:!0})},get milliseconds(){return r.getMilliseconds()},get minutes(){return r.time.minutes},get month(){return r.date.month},get monthName(){return r.names.monthName},get names(){return ht(r)},get quarter(){return Dt(r)},get quarterNr(){return Dt(r,!0)},get removeTime(){return eo(r)},get seconds(){return r.time.seconds},get time(){return bt(r,!0)},get timeValues(){return Le(r,!0)},get timeZone(){return(e||le()).timeZone},get unixEpochTimestamp(){return Math.floor(+r/1e3)},get userLocaleInfo(){return O},get UTC(){return r.clone.relocate({locale:r.locale,timeZone:"UTC"})},get UTCOffset(){return vt(r,"UTC")},get value(){return new Date(r)},get weeknr(){return Jt(r)},get weeksInYear(){return ke(r.year,31)},get year(){return r.date.year},get zoneDate(){return St(r,!1)},get zoneDateNr(){return r.zoneDate.date},get zoneDateTime(){return{...r.zoneDate,...r.zoneTime}},get zoneDateTimeValues(){return ie(r,!1)},get zoneDateValues(){return xt(r,!1)},get zoneDay(){return kt(r,!0)},get zoneDayname(){return r.zoneNames.dayName},get zoneHours(){return r.zoneTime.hours},get zoneMinutes(){return r.zoneTime.minutes},get zoneMonth(){return r.zoneDate.month},get zoneMonthname(){return r.zoneNames.monthName},get zoneNames(){return ht(r,!0)},get zoneSeconds(){return r.zoneTime.seconds},get zoneTime(){return bt(r)},get zoneTimeValues(){return Le(r)},get zoneYear(){return r.zoneDate.year},get zoneValues(){return r.zoneDateTime},get zoneArray(){return ie(r,!1)}};return!e&&!n?o:(o.localeInfo=e||le(),r=new Proxy(n,oo(o)),Object.entries(Object.getOwnPropertyDescriptors(qt(r,t))).forEach(([a,u])=>Object.defineProperty(o,a,u)),Object.freeze(r))}function oo(e){return{get(t,n){return n!=="toString"&&n in t?t[n].bind(t):Reflect.get(e,n)},set(t,n,r){return n in e&&Reflect.set(e,n,r)}}}var O=Bt(Intl.DateTimeFormat().resolvedOptions()),io=Object.getOwnPropertyNames(Date.prototype).filter(e=>e.startsWith("set")).reduce((e,t)=>[...e,{native:t,syn:"change"+t.slice(3)}],[]);function Qt(e="en-GB"){return e=I({locale:e}).locale,{long:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"long"})),short:[...Array(7).keys()].map(t=>new Date(Date.UTC(1970,0,4+t)).toLocaleDateString(e,{timeZone:"Etc/UTC",weekday:"short"}))}}function Ze(e="en"){return e=I({locale:e}).locale,{long:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"long"})),short:[...Array(12).keys()].map(t=>new Date(Date.UTC(1970,t,1)).toLocaleDateString(e,{timeZone:"Etc/UTC",month:"short"}))}}function ao({year:e,locale:t}={}){e=j(e)?parseInt(e):new Date().getFullYear();let n={year:e,calendar:{}},r=Ze().long.map(o=>o.toLowerCase());for(let o=0;o<12;o+=1){let a=w.from(e,o,1);n.calendar[r[o]]=zt(a,t)}return n}function lo({year:e,monthNr:t,locale:n="en-CA"}={}){e=j(t)&&parseInt(e)||-1,t=j(t)&&parseInt(t)||new Date().getFullYear();let r=t>=1&&t<=12;return n=I({locale:n}).locale,t=r?t-1:void 0,r?w.from(e,t,1).relocate({locale:n}).fullMonth(n):"MonthNr should be a specific number (1 = january - 12 = december)"}function Bt(e){let t=Ut(e.locale,e.timeZone),n=new Intl.Locale(e.locale);return e.weekInfo=n.getWeekInfo?n.getWeekInfo():null,Object.defineProperty(e,"formatOptions",{value:t,enumerable:!1})}function Ut(e,t){return[`${e&&!(Array.isArray(e)&&e.length<1)?`l:${e}`:""}`,`${t?`tz:${t}`:""}`].filter(n=>n).join(",")}function I({locale:e,timeZone:t,l:n,tz:r}={}){return t=t||r,e=e||n,e=It({trial:function(){return Intl.DateTimeFormat(e,{timeZone:O.timeZone}).resolvedOptions().locale},onError:function(){return console.warn(`Intl locale "${e}" best fit impossible, using "${O.locale}"`),O.locale}}),t=It({trial:function(){return Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions().timeZone},onError:function(){return console.warn(`timeZone "${t}" not valid. Using "${O.timeZone}"`),O.timeZone}}),Bt(Intl.DateTimeFormat(e,{timeZone:t}).resolvedOptions())}function le({locale:e,timeZone:t,l:n,tz:r}={}){return I({locale:e,timeZone:t,l:n,tz:r},!0)}function Ct(e){return!Number.isNaN(+e)&&e?.constructor===Date&&!e?.toISOString?.().startsWith("1970-01-01T00:00:00")?e:new Date}function uo(e){let t=new Date;switch(!0){case e?.constructor===String:return Ct(new Date(e));case(Array.isArray(e)&&e.map(Number).length===e.length):return e.length===1?new Date(e[0],0,1):new Date(...e);case e?.constructor===Date:return Ct(e);default:return t}}function It({trial:e,onError:t=()=>{}}={}){if(e?.constructor===Function)try{return e()}catch(n){return t?.constructor===Function?t(n):void 0}}function so({timeZoneDate:e,timeZoneID:t,userTimeZoneID:n}={}){let r={timeZone:I({timeZone:t}).timeZone},o={timeZone:I({timeZone:n||""}).timeZone},a=w(e,r),u=w(e,o),c=u.differenceTo(a),p=a.offsetFrom(u).offset,[x,S]=Fe(p,!0),d=u.clone.add(`${x} hours, ${S} minutes`),m=c.equalDates?"No difference":`Time offset ${p}: ${o.timeZone} is ${c.clean} ${x<0?"behind":"ahead of"} ${r.timeZone}`;return{remoteTimezone:r.timeZone,userTimezone:o.timeZone,timeDifference:m,result:{[r.timeZone.replace(/\//,"_")]:w(e).toString({template:"yyyy/mm/dd hh:mmi:ss",formatOptions:"hrc:23"}),[o.timeZone.replace(/\//,"_")]:d.toString({template:"yyyy/mm/dd hh:mmi:ss",formatOptions:"hrc:23"})}}}function j(e){return!Number.isNaN(parseInt(e))}function ue(e,t,n){return e?.constructor===Number?A(t,`${e} ${n}`):t}function co(e){let t={addYears(n=1){return ue(n,e,"years")},addMonths(n=1){return ue(n,e,"months")},addWeeks(n=1){return n=n?.constructor===Number?n*7:1,ue(n,e,"days")},addDays(n=1){return ue(n,e,"days")},get nextYear(){return A(e,"1 year")},get nextWeek(){return A(e,"7 days")},get previousWeek(){return A(e,"-7 days")},get previousYear(){return A(e,"-1 year")},get nextMonth(){return A(e,"1 month")},get previousMonth(){return A(e,"-1 month")},get tomorrow(){return A(e,"1 day")},get yesterday(){return A(e,"-1 day")}};for(let n of io)t[n.syn]=function(...r){return e[n.native](...r),e};return t}function qt(e,t){let n=co(e);for(let[r,o]of Object.entries(t||{})){let a=o.enumerable,u=o.isGetter?{get(){return o.method(e)},enumerable:a}:{value(...c){return o.method(e,...c)},enumerable:a};Object.defineProperty(n,r,u)}return n}function mo(e,t){return Object.defineProperties(e,{now:{get(){return e(new Date)}},localeInformation:{get(){return I()}},localWeekdaynames:{value(n){return Qt(n)}},localMonthnames:{value(n){return Ze(n)}},daysInMonth:{value(n,r=!1){return n=j(n)?parseInt(n):0,n>=1&&n<=12?new Date(r?2e3:2005,n,0).getDate():`${n} should be a Number between (1 (january) - 12 (december))`}},yearCalendar:{value:ao},monthCalendar:{value:lo},from:{value(...n){return e(n)}},fromUxTS:{value(n,r){n=j(n)?parseInt(n)*1e3:void 0;let o=n?new Date(n):new Date;return w(o,r||O)}},hasDST:{value({date:n,timeZone:r}={}){return Rt(n,r)}},DSTActive:{value({date:n,timeZone:r}={}){return Wt(n,r)}},values:{value({date:n,timeZone:r}={}){n=n||n?.value||new Date;let o=se(n,"yyyy-m-d-h-mi-s",I({timeZone:r}).formatOptions.concat(",hrc:23")).split("-").map(Number).concat(n.getMilliseconds());return o[1]-=1,o}},format:{value({date:n,template:r,timeZone:o,locale:a,opts:u}={}){n=n||n?.value||new Date,r=r?.constructor===String?r:"yyyy/mm/dd hh:mmi:ss dp";let c=I({timeZone:o,locale:a}).formatOptions;return c+=u?`,${u}`:"",se(n,r,c)}},addCustom:{value({name:n,method:r,enumerable:o=!1,isGetter:a=!1}={}){n?.constructor===String&&r?.constructor===Function&&r.length>0&&(t[n]={method:r,enumerable:o,isGetter:a})}},validateLocaleInformation:{value:I},timeAcrossZones:{value:so},weeksInYear:{value(n){return ke(n,31)}},keys:{get(){let n=Object.fromEntries(Object.entries(t).filter(([r,o])=>o.enumerable===!0));return[...Object.keys(Yt()),...Object.keys(qt()),...Object.keys(n)].sort((r,o)=>r.localeCompare(o))}}}),e}var Vt={},w=mo(fo,Vt);function fo(e,t){if(e?.localeInfo)return e.clone;let n=e?.locale||e?.timeZone||e?.tz||e?.l;return Yt({localeInfo:I(n?e:t),dateValue:new Date(n?Date.now():uo(e)),customMethods:Vt})}var yo=Object.defineProperties(_t,{escape:{value:wo,enumerable:!0}});function _t(e,...t){let{flags:n,cleanedArgs:r}=go(...t);return bo(new RegExp($o(po(e,...r)),n))}function po(e,...t){return Y(t)?e.raw.reduce((n,r,o)=>n.concat(t[o-1]||"").concat(r),""):e.raw.join("")}function go(...e){let t=ze(ho(e.at(-1)));return{flags:t,cleanedArgs:Y(t)?e.slice(0,-1):e}}function ho(e){return me(e,Array)?e.join(""):""}function bo(e){let t=new Proxy(Object.defineProperties({},{re:{get(){return e},enumerable:!1},toString:{value:()=>e.toString(),enumerable:!1},valueOf:{value:()=>e,enumerable:!1},flags:{value(n){return e=To(n,e),t},enumerable:!1},clone:{get(){return vo(t)},enumerable:!1}}),xo(e));return t}function Y(e){return e?.length>0}function me(e,t){return e?.constructor===t}function So(e,t,n){let r=Reflect.get(n,t);return{fromInstance:Reflect.get(e,t),fromRegExpMethod:me(r,Function)?r.bind(e.re):e.re[t]}}function xo(e){return{get(t,n){let{fromInstance:r,fromRegExpMethod:o}=So(t,n,e);switch(!0){case!!r:return r;default:return o}}}}function vo(e){let t=e.re.source,n=Y(e.re.flags)?[...e.re.flags]:[];return _t`${t} ${n}`}function ze(e,t){return t=(t??"").replace(/^-r\|/,""),e=t.concat(me(e,String)&&Y(e)?e:""),[...new Set([...e])].join("").replace(/[^dgimsuvy]/g,"")}function To(e,t){switch(!0){case(!me(e,String)||!Y(e)):return t;case e==="-r":return t=new RegExp(t.source);case e.startsWith("-r|"):return t=new RegExp(t.source,ze(e));default:return t=new RegExp(t.source,ze(t.flags,e))}}function wo(e){switch(!0){case(e?.constructor!==String||!Y(e)):return"";case!!RegExp.escape:return RegExp.escape(e);default:return(`\\x${e.at(0)}`+e.slice(1).replace(/\p{S}|\p{P}/gu,t=>`\\${t}`)).replace(/ |\\x /g,"\\x20")}}function $o(e){return e.replace(/\/\*(?:[^*]|\*+[^*\/])*\*+\/|(?<!:|\\\|')\/\/.*/gm,"").replace(/\s/g,"").trim().replace(/<!([^>]\d+)>/g,(t,n)=>String.fromCharCode(+n)??t)}var{IS:M,maybe:He,$Wrap:Uo,isNothing:Oo,xProxy:qo,addSymbolicExtensions:Vo}=No({useSymbolicExtensions:!1});function No(e={}){let{useSymbolicExtensions:t}=e,{shouldbeIsSingleObject:n,ISOneOf:r,isExcept:o,verifyNothingness:a,xProxy:u,determineType:c,addSymbolicExtensions:p,maybe:x,$Wrap:S}=Do(d,t);return t&&p(),{IS:d,maybe:x,$Wrap:S,isNothing:a,xProxy:u,addSymbolicExtensions:p};function d(m,...b){let h=typeof m=="symbol"?Symbol.isSymbol:m;switch(!0){case!!x({trial:f=>"isTypes"in(b?.[0]??{})}):return n(m,b[0]);default:return b.length>1?r(h,...b):c(m,...b)}}}function Do(e,t){let{SymbolAndCustomProxyFactory:n,maybeFactory:r,WrapAnyFactory:o,verifyNothingness:a,determineType:u}=Co(e,d),{xProxy:c,addSymbolicExtensions:p}=n(e,d,t),[x,S]=[r(),o(e,d)];return Object.freeze({shouldbeIsSingleObject:m,ISOneOf:b,isExcept:f,verifyNothingness:a,xProxy:c,determineType:u,addSymbolicExtensions:p,maybe:x,$Wrap:S});function d(i){return i?.[Symbol.proxy]??e(i)}function m(i,l){switch(!0){case"defaultValue"in l:return h(i,l);case"notTypes"in l:return f(i,l);default:return e(i,...[l.isTypes].flat())}}function b(i,...l){return l.some(s=>e(i,s))}function h(i,{defaultValue:l,isTypes:s=[void 0],notTypes:y}={}){return s=s?.constructor!==Array?[s]:s,y=y&&y?.constructor!==Array?[y]:[],y.length<1?e(i,...s)?i:l:f(i,{isTypes:s,notTypes:y})?i:l}function f(i,{isTypes:l=[void 0],notTypes:s=[void 0]}={}){return l=l?.constructor!==Array?[l]:l,s=s?.constructor!==Array?[s]:s,e(i,...l)&&!e(i,...s)}}function Co(){let e={IS:"toa.is",TYPE:"toa.type",IS_SYMBOL:"toa.isASymbol",PROXY:"toa.proxy"},t={NAN:"NaN",INFINITY:"Infinity",BOOLEAN:"Boolean",OBJECT:"Object",PROXY_PREFIX:"Proxy ("};return Object.freeze({SymbolAndCustomProxyFactory:r,maybeFactory:h,WrapAnyFactory:b,verifyNothingness:f,determineType:p});function n(i,l){Symbol.is||(Symbol.is=Symbol.for(e.IS),Symbol.type=Symbol.for(e.TYPE),Object.defineProperties(Object.prototype,{[Symbol.type]:{get(){return l(this)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(...s){return i(this,...s)},enumerable:!1,configurable:!1}}),Object.defineProperties(Object,{[Symbol.type]:{value(s){return l(s)},enumerable:!1,configurable:!1},[Symbol.is]:{value:function(s,...y){return i(s,...y)},enumerable:!1,configurable:!1}}))}function r(i,l,s){return Symbol.isSymbol||(Symbol.isSymbol=Symbol.for(e.IS_SYMBOL)),{xProxy:u(),addSymbolicExtensions:()=>n(i,l)}}function o(i){return(Oo(i,!0)?{name:"unknown"}:Object.getPrototypeOf(i)?.constructor).name}function a(i,l){return Proxy=new i(i,{construct(s,y){let v=new s(...y);return Object.defineProperty(v,l,{value:`${t.PROXY_PREFIX}${o(y[0])})`}),v}}),Proxy}function u(){Symbol.proxy||(Symbol.proxy=Symbol.for(e.PROXY));let i=Proxy;return{native(){Proxy=i},custom(){Proxy=a(i,Symbol.proxy)}}}function c(i,...l){let s=l.length<1,y=i==null;return{noInput:y,noShouldbe:s,compareTo:!s&&l[0],inputCTOR:!y&&(i?.constructor||Object.getPrototypeOf(i)?.constructor),isNaN:Number.isNaN(i)||He({trial:v=>String(i)===t.NAN}),isInfinity:He({trial:v=>String(i)})===t.INFINITY,shouldBeFirstElementIsNothing:!s&&f(l[0])}}function p(i,...l){let{noInput:s,noShouldbe:y,compareTo:v,inputCTOR:C,isNaN:Q,isInfinity:B,shouldBeFirstElementIsNothing:U}=c(i,...l);switch(l=l.length&&l[0],!0){case U:return String(i)===String(v);case(i?.[Symbol.proxy]&&y):return i[Symbol.proxy];case Q:return y?t.NAN:String(v)===String(i);case B:return y?t.INFINITY:String(v)===String(i);case s:return y?String(i):String(v)===String(i);case C===Boolean:return y?t.BOOLEAN:C===l;default:return S(i,l,y,x(i,C))}}function x(i,l){switch(!0){case i===0:return Number;case i==="":return String;case!i:return{name:String(i)};default:return l}}function S(i,l,s,y){switch(!0){case(!s&&l===i||i?.[Symbol.proxy]&&l===Proxy):return!0;case String(l)===t.NAN:return String(i)===t.NAN;case(i?.[Symbol.toStringTag]&&typeof l=="string"):return String(l)===i[Symbol.toStringTag];default:return l?m(i,l,y):d(i,y)}}function d(i,l){return(i?.[Symbol.toStringTag]??i?.prototype?.[Symbol.toStringTag])||l?.name||String(l)}function m(i,l,s){return He({trial:y=>i instanceof l})||l===s||l===Object.getPrototypeOf(s)||`${l?.name}`===s?.name}function b(i,l){return function(s){let y={get value(){return s},is(...v){return i(s,...v)},get type(){return l(s)}};return Object[Symbol.type]&&Object.defineProperties(y,{[Symbol.type]:{get(){return l(s)}},[Symbol.is]:{value(...v){return i(s,...v)}}}),Object.freeze(y)}}function h(){let i=l=>{};return function({trial:l,whenError:s=i}={}){try{return l()}catch(y){return s(y)}}}function f(i,l=!1){let s=i==null;return s=l?s||M(i,1/0)||M(i,NaN):s,s}}var Re=Xt(),We=Xt("");function Xt(e,t={}){let{useSymbolicExtensions:n}=t;return e=M(e,String,Number)?String(e):void 0,n&&Je(),function(d,...m){return S(d,x(m))};function r(d,m){return m&&M(e,String,Number)?String(e):`{${d}}`}function o(d,m){let b=d in m;return b&&M(m[d],String,Number)?String(m[d]):r(d,b)}function a(d){return(...m)=>{let b=m.find(h=>h.key);return o(b?b.key:"_",d)}}function u(d,m){return d.replace(/\{(?<key>[a-z_\d]+)}/gim,a(m))}function c(d){let m=[];return Object.entries(d).forEach(([b,h])=>{h.forEach((f,i)=>(m[i]??={},m[i][b]=f))}),m}function p(d){return d.length===1&&Object.values(d[0]).every(Array.isArray)}function x(d){return p(d)?c(d[0]):d}function S(d,m){let b=m?.length?m.filter(h=>M(h,Object)).map((h,f)=>u(d,{...h,index:f+1})).join(""):d;return M(e,void 0)?b:b.replace(/\{[a-z_\d].+\}/gim,String(e))}}function Je(){return String.prototype[Symbol.for("interpolate")]||Object.defineProperties(String.prototype,{[Symbol.for("interpolate")]:{value(...e){return Re(this,...e)}},[Symbol.for("interpolate$")]:{value(...e){return We(this,...e)}}}),[Symbol.for("interpolate"),Symbol.for("interpolate$")]}Eo();Io();var ri={interpolate:Re,interpolateClear:We,addSymbolicStringExtensions:Je};function Io(){/stackblitz/i.test(location.href)&&console.info("\u2714 Stackblitz rewrites links to _top. The 'stackblitzhelpers' module fixed it."),document.addEventListener("click",e=>{if(e.target.href){let t=e.target;if(t.dataset.top||t.classList.contains("internalLink")||t.target==="_top")return top.location.href=t.href}return!0})}function oi(e=!0){let t=L('<ul id="log2screen">').first();function n(a=!1){let u=a?L.at.start:L.at.end;return c=>{if(c?.isJQx)return L.li(c.data.get("header")?{class:"head"}:"",c).renderTo(t,u);c=L.IS(c,String,Number,Symbol)?String(c):jo(c,e);let p=c.startsWith("!!");c=p?c.slice(2):c,L.li(p?{class:"head"}:"",c).renderTo(t,u)}}let[r,o]=[n(),n(!0)];return{log:(...a)=>a.forEach(r),logTop:(...a)=>a.forEach(o)}}function jo(e,t){try{return t?`<pre>${JSON.stringify(e,null,2)}</pre>`:JSON.stringify(e)}catch{return"Some [Object object] can not be converted to JSON"}}function Eo(){L.editCssRules("body{font:normal 14px/17px system-ui,sans-serif;margin:1rem;}","li::marker{vertical-align:top;}","code{color:green;background-color:#eee;padding:2px;font-family:monospace;}","code.codeblock{display:block;padding:6px;border:1px solid #999;margin:0.5rem 0;background-color:#eee;white-space:pre-wrap;}","h3{marginTop:1.5rem;}",".thickBorder{border:5px solid green;borderWidth:5px;padding:0.5rem;display:inline-block;}","a.ExternalLink{text-decoration:none;color:rgb(0,0,238);background-color:#EEE;padding:3px;font-weight:bold;}",".cmmt{color:#888;}",".hidden{display:none;}",".attention{color:red; font-size:1.2em; font-weight:bold;}","#log2screen li{listStyle:'\\2713';paddingLeft:6px;margin:0.5rem 0 0 -1.2rem;font-family:monospace}","#log2screen li.head{list-style-type:none;font-weight:bold;margin-top:0.8rem;margin-bottom:-0.2rem;font-family:revert;}",".err{fontStyle:italic; color:red; }","a{text-decoration:none; font-weight:bold;}","a:hover{text-decoration:underline;}","a[target]:before,a.internalLink:before,a.externalLink:before{color:rgba(0,0,238,0.7);font-size:1.1rem;padding-right:2px;vertical-align:baseline;}",`a[target="_blank"]:before,a.externalLink:before{content:'\\2197';}`,`a[data-top]:before,a.internalLink:before,a[target="_top"]:before{content:'\\21BA';}`)}export{L as $,w as $D,oi as logFactory,yo as regexhelper,ri as splatModule};
